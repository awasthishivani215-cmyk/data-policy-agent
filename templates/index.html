<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolicyGuard AI - Data Policy Compliance Dashboard</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <style>
        /* ===== CSS RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Color Palette */
            --primary: #4f46e5;
            --primary-dark: #3730a3;
            --primary-light: #818cf8;
            --primary-50: #eef2ff;
            --secondary: #10b981;
            --secondary-dark: #059669;
            --secondary-light: #34d399;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --success: #10b981;
            --dark: #1f2937;
            --light: #f9fafb;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            
            /* Theme Colors */
            --sidebar-bg: #1e1b4b;
            --sidebar-text: #e0e7ff;
            --card-bg: #ffffff;
            --header-bg: rgba(255, 255, 255, 0.98);
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            
            /* Borders */
            --radius-sm: 0.5rem;
            --radius-md: 0.75rem;
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
            --radius-2xl: 2rem;
            --radius-full: 9999px;
            
            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-normal: 300ms ease;
            --transition-slow: 500ms ease;
            
            /* Layout */
            --sidebar-width: 280px;
            --header-height: 70px;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        /* ===== LAYOUT CONTAINER ===== */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--sidebar-bg);
            color: var(--sidebar-text);
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 100;
            transition: transform var(--transition-normal);
            box-shadow: var(--shadow-xl);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sidebar-logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: white;
        }

        .sidebar-logo i {
            font-size: 2rem;
            color: var(--primary-light);
        }

        .sidebar-nav {
            padding: 1.5rem 0;
            flex: 1;
        }

        .nav-group {
            margin-bottom: 1.5rem;
        }

        .nav-group-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-400);
            padding: 0 1.5rem;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.875rem 1.5rem;
            color: var(--sidebar-text);
            text-decoration: none;
            transition: all var(--transition-fast);
            position: relative;
            cursor: pointer;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
            border-right: 4px solid var(--secondary);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: var(--secondary);
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 1.1rem;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--secondary);
            color: white;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            font-weight: 600;
        }

        .sidebar-footer {
            padding: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
        }

        .user-info h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: white;
        }

        .user-info p {
            font-size: 0.75rem;
            color: var(--gray-400);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            background: var(--gray-50);
            min-height: 100vh;
        }

        /* ===== HEADER ===== */
        .main-header {
            height: var(--header-height);
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 90;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-200);
            box-shadow: var(--shadow-sm);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .page-title h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .page-title p {
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .header-search {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-family: inherit;
            font-size: 0.95rem;
            transition: all var(--transition-fast);
            background: var(--gray-50);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-500);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .header-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: var(--gray-100);
            color: var(--gray-700);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            position: relative;
        }

        .header-action:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--danger);
            color: white;
            font-size: 0.75rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .user-menu:hover {
            background: var(--gray-100);
        }

        .user-menu img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-menu span {
            font-weight: 600;
            color: var(--dark);
        }

        /* ===== CONTENT WRAPPER ===== */
        .content-wrapper {
            padding: 2rem;
        }

        /* ===== DASHBOARD GRID ===== */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .dashboard-card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
            transition: transform var(--transition-normal);
        }

        .dashboard-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .card-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-title i {
            color: var(--primary);
            font-size: 1.5rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .card-action {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 1px solid var(--gray-300);
            background: white;
            color: var(--gray-600);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .card-action:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* ===== STATS CARDS ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
        }

        .stat-icon {
            width: 56px;
            height: 56px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            color: white;
        }

        .stat-card:nth-child(1) .stat-icon { background: linear-gradient(135deg, var(--primary), var(--primary-light)); }
        .stat-card:nth-child(2) .stat-icon { background: linear-gradient(135deg, var(--success), var(--secondary-light)); }
        .stat-card:nth-child(3) .stat-icon { background: linear-gradient(135deg, var(--warning), #fbbf24); }
        .stat-card:nth-child(4) .stat-icon { background: linear-gradient(135deg, var(--info), #60a5fa); }

        .stat-content h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.25rem;
            line-height: 1;
        }

        .stat-content p {
            color: var(--gray-600);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }

        /* ===== CHARTS SECTION ===== */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
        }

        .chart-control {
            padding: 0.5rem 1rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            background: white;
            color: var(--gray-700);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .chart-control:hover {
            background: var(--gray-100);
        }

        .chart-control.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* ===== COMPLIANCE METER ===== */
        .compliance-meter {
            background: linear-gradient(135deg, var(--primary-50), white);
            border-radius: var(--radius-lg);
            padding: 2rem;
            display: flex;
            align-items: center;
            gap: 3rem;
            margin-bottom: 2rem;
            border: 1px solid var(--gray-200);
        }

        .meter-circle {
            position: relative;
            width: 180px;
            height: 180px;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring-bg {
            fill: none;
            stroke: var(--gray-200);
            stroke-width: 12;
        }

        .progress-ring-fill {
            fill: none;
            stroke: url(#gradient);
            stroke-width: 12;
            stroke-linecap: round;
            stroke-dasharray: 565.48;
            stroke-dashoffset: 565.48;
            transition: stroke-dashoffset 1.5s ease;
        }

        .meter-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .meter-value h2 {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark);
            margin: 0;
            line-height: 1;
        }

        .meter-value p {
            color: var(--gray-600);
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }

        .meter-breakdown {
            flex: 1;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            margin-bottom: 0.75rem;
            background: white;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--gray-400);
            box-shadow: var(--shadow-sm);
        }

        .breakdown-item.good {
            border-left-color: var(--success);
        }

        .breakdown-item.warning {
            border-left-color: var(--warning);
        }

        .breakdown-item.danger {
            border-left-color: var(--danger);
        }

        .breakdown-label {
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .breakdown-value {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.25rem;
        }

        /* ===== RECENT ACTIVITY ===== */
        .activity-section {
            background: white;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
            margin-bottom: 2rem;
        }

        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .activity-header h2 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .activity-timeline {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .activity-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-radius: var(--radius-md);
            background: var(--gray-50);
            transition: all var(--transition-fast);
            border-left: 4px solid transparent;
        }

        .activity-item:hover {
            background: var(--gray-100);
            transform: translateX(4px);
        }

        .activity-item.success {
            border-left-color: var(--success);
        }

        .activity-item.warning {
            border-left-color: var(--warning);
        }

        .activity-item.info {
            border-left-color: var(--info);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .activity-item.success .activity-icon {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .activity-item.warning .activity-icon {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .activity-item.info .activity-icon {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info);
        }

        .activity-content h4 {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .activity-content p {
            color: var(--gray-600);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .activity-time {
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        /* ===== QUICK ACTIONS ===== */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .action-card {
            background: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            text-decoration: none;
            color: inherit;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border: 1px solid var(--gray-200);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .action-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .action-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        }

        .action-card:nth-child(2) .action-icon {
            background: linear-gradient(135deg, var(--success), var(--secondary-dark));
        }

        .action-card:nth-child(3) .action-icon {
            background: linear-gradient(135deg, var(--warning), #d97706);
        }

        .action-card:nth-child(4) .action-icon {
            background: linear-gradient(135deg, var(--info), #1d4ed8);
        }

        .action-card h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
            color: var(--dark);
        }

        .action-card p {
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .action-arrow {
            font-size: 1.5rem;
            color: var(--primary);
            opacity: 0;
            transform: translateX(-10px);
            transition: all var(--transition-normal);
        }

        .action-card:hover .action-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        /* ===== VIOLATIONS TABLE ===== */
        .violations-table {
            background: white;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .table-responsive {
            overflow-x: auto;
        }

        .violations-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .violations-table th {
            background: var(--gray-50);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--gray-700);
            border-bottom: 2px solid var(--gray-200);
            white-space: nowrap;
        }

        .violations-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            vertical-align: middle;
        }

        .violations-table tr:hover {
            background: var(--gray-50);
        }

        .severity-badge {
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .severity-high {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .severity-medium {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .severity-low {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info);
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--radius-md);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .action-btn.primary {
            background: var(--primary);
            color: white;
        }

        .action-btn.primary:hover {
            background: var(--primary-dark);
        }

        .action-btn.secondary {
            background: var(--gray-100);
            color: var(--gray-700);
        }

        .action-btn.secondary:hover {
            background: var(--gray-200);
        }

        /* ===== FLOATING AI CHATBOT ===== */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 10000;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow-2xl);
            transition: all var(--transition-normal);
            border: none;
            position: relative;
            overflow: hidden;
        }

        .chatbot-toggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
            animation: shimmer 3s infinite linear;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .chatbot-toggle:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: var(--shadow-2xl), 0 0 30px rgba(79, 70, 229, 0.4);
        }

        .chatbot-toggle.pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: var(--shadow-2xl), 0 0 0 0 rgba(79, 70, 229, 0.7);
            }
            70% {
                box-shadow: var(--shadow-2xl), 0 0 0 15px rgba(79, 70, 229, 0);
            }
            100% {
                box-shadow: var(--shadow-2xl), 0 0 0 0 rgba(79, 70, 229, 0);
            }
        }

        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 400px;
            height: 600px;
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-2xl);
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--gray-200);
            transform-origin: bottom right;
        }

        .chatbot-window.active {
            display: flex;
            animation: slideUp 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .chatbot-header {
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .chatbot-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shimmer 3s infinite linear;
        }

        .chatbot-header h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            position: relative;
            z-index: 1;
        }

        .chatbot-header .status {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.75rem;
            opacity: 0.9;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse-green 2s infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chatbot-close {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.25rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
            position: relative;
            z-index: 1;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .chatbot-messages {
            flex: 1;
            padding: 1.25rem;
            overflow-y: auto;
            background: linear-gradient(180deg, var(--gray-50) 0%, white 100%);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chatbot-input-area {
            padding: 1.25rem;
            background: white;
            border-top: 1px solid var(--gray-200);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chatbot-input {
            display: flex;
            gap: 0.75rem;
        }

        .chatbot-input input {
            flex: 1;
            padding: 0.875rem 1rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-family: inherit;
            font-size: 0.95rem;
            transition: all var(--transition-fast);
            background: var(--gray-50);
        }

        .chatbot-input input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .chatbot-input button {
            padding: 0.875rem 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-width: 80px;
            justify-content: center;
        }

        .chatbot-input button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .suggested-questions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .suggested-questions h4 {
            font-size: 0.875rem;
            color: var(--gray-600);
            font-weight: 500;
        }

        .question-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .question-chip {
            padding: 0.5rem 1rem;
            background: var(--gray-100);
            color: var(--gray-700);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-full);
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .question-chip:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            border-color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        /* ===== ENHANCED MODALS ===== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal {
            background: white;
            width: 100%;
            max-width: 1000px;
            max-height: 90vh;
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-2xl);
            overflow: hidden;
            animation: modalSlideIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 2rem;
            overflow-y: auto;
            max-height: calc(90vh - 140px);
        }

        /* ===== SAMPLE BUTTONS GRID ===== */
        .sample-buttons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.75rem;
            margin: 1.5rem 0;
            max-height: 300px;
            overflow-y: auto;
            padding: 0.5rem;
            background: var(--gray-50);
            border-radius: var(--radius-lg);
        }

        .sample-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--gray-700);
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: left;
        }

        .sample-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .sample-btn i {
            font-size: 1rem;
            color: var(--primary);
        }

        .sample-btn:hover i {
            color: white;
        }

        .sample-btn.industry {
            border-left: 4px solid var(--info);
        }

        .sample-btn.high-risk {
            border-left: 4px solid var(--danger);
        }

        .sample-btn.medium-risk {
            border-left: 4px solid var(--warning);
        }

        .sample-btn.low-risk {
            border-left: 4px solid var(--success);
        }

        /* ===== FORM GROUPS ===== */
        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-lg);
            font-family: inherit;
            font-size: 1rem;
            transition: all var(--transition-fast);
        }

        textarea.form-control {
            min-height: 200px;
            resize: vertical;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin: 1rem 0;
            padding: 1rem 0;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 1.5rem;
            border: none;
            border-radius: var(--radius-lg);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 6px rgba(79, 70, 229, 0.25);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(79, 70, 229, 0.3);
        }

        .btn-secondary {
            background: var(--gray-100);
            color: var(--dark);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-200);
        }

        .btn-sample {
            background: linear-gradient(135deg, var(--info), var(--primary));
            color: white;
        }

        .btn-sample:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* ===== ENHANCED RESULTS ===== */
        .results-container {
            margin-top: 2rem;
            border-top: 2px solid var(--gray-200);
            padding-top: 2rem;
        }

        .result-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .result-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .result-icon.success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .result-icon.warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .result-icon.error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .result-icon.info {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info);
        }

        .result-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .result-subtitle {
            color: var(--gray-600);
            font-size: 0.95rem;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .result-metric {
            background: var(--gray-50);
            padding: 1.25rem;
            border-radius: var(--radius-lg);
            border: 1px solid var(--gray-200);
        }

        .metric-label {
            font-size: 0.875rem;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-family: 'Poppins', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
        }

        .metric-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .metric-tag.critical {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .metric-tag.high {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .metric-tag.medium {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .metric-tag.low {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .result-details {
            background: var(--gray-50);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: var(--gray-600);
        }

        .detail-value {
            font-weight: 600;
            color: var(--dark);
        }

        .risk-meter {
            height: 8px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin: 1rem 0;
        }

        .risk-fill {
            height: 100%;
            border-radius: var(--radius-full);
            transition: width 0.5s ease;
        }

        .risk-fill.critical {
            background: linear-gradient(90deg, var(--danger), #f87171);
        }

        .risk-fill.high {
            background: linear-gradient(90deg, var(--danger), #f87171);
        }

        .risk-fill.medium {
            background: linear-gradient(90deg, var(--warning), #fbbf24);
        }

        .risk-fill.low {
            background: linear-gradient(90deg, var(--success), #34d399);
        }

        /* ===== AI INFO STYLES ===== */
        .ai-info {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(79, 70, 229, 0.1));
            border-left: 4px solid var(--info);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: var(--radius-md);
        }

        .ai-tips {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border-left: 4px solid var(--success);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: var(--radius-md);
        }

        .ai-warning {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(239, 68, 68, 0.1));
            border-left: 4px solid var(--warning);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: var(--radius-md);
        }

        /* ===== UTILITY CLASSES ===== */
        .text-success { color: var(--success); }
        .text-warning { color: var(--warning); }
        .text-danger { color: var(--danger); }
        .text-info { color: var(--info); }
        .text-primary { color: var(--primary); }

        .bg-success { background: var(--success); }
        .bg-warning { background: var(--warning); }
        .bg-danger { background: var(--danger); }
        .bg-info { background: var(--info); }
        .bg-primary { background: var(--primary); }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--gray-300);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden { display: none !important; }
        .flex { display: flex; }
        .grid { display: grid; }
        .block { display: block; }
        .inline-block { display: inline-block; }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mt-5 { margin-top: 2.5rem; }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mb-5 { margin-bottom: 2.5rem; }

        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }

        .font-bold { font-weight: 700; }
        .font-semibold { font-weight: 600; }
        .font-medium { font-weight: 500; }

        .cursor-pointer { cursor: pointer; }
        .transition-all { transition: all var(--transition-normal); }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .main-header {
                padding: 0 1rem;
            }
            
            .header-search {
                width: 200px;
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .chatbot-window {
                width: calc(100vw - 60px);
                height: 500px;
                right: 15px;
                bottom: 80px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .compliance-meter {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }
            
            .header-search {
                display: none;
            }
            
            .sample-buttons-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .content-wrapper {
                padding: 1rem;
            }
            
            .header-actions {
                gap: 0.5rem;
            }
            
            .user-menu span {
                display: none;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>PolicyGuard</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-group">
                    <div class="nav-group-title">Main</div>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" onclick="openModal('policyModal')">
                        <i class="fas fa-search"></i>
                        <span>Policy Checker</span>
                    </a>
                    <a href="#" class="nav-item" onclick="openModal('complaintModal')">
                        <i class="fas fa-comments"></i>
                        <span>Complaint Analyzer</span>
                        <span class="nav-badge">20+</span>
                    </a>
                </div>
                
                <div class="nav-group">
                    <div class="nav-group-title">Monitoring</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Compliance Analytics</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-sync-alt"></i>
                        <span>Update Tracker</span>
                        <span class="nav-badge">5</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-bell"></i>
                        <span>Alerts & Notifications</span>
                        <span class="nav-badge">12</span>
                    </a>
                </div>
                
                <div class="nav-group">
                    <div class="nav-group-title">Management</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-file-contract"></i>
                        <span>Policy Templates</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-users"></i>
                        <span>Team Management</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-cogs"></i>
                        <span>Settings</span>
                    </a>
                </div>
                
                <div class="nav-group">
                    <div class="nav-group-title">Reports</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-file-pdf"></i>
                        <span>Compliance Reports</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-chart-pie"></i>
                        <span>Risk Analysis</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-history"></i>
                        <span>Audit Logs</span>
                    </a>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <h4>Admin User</h4>
                        <p>Compliance Officer</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <div class="page-title">
                        <h1>Compliance Dashboard</h1>
                        <p>Welcome back! Here's what's happening with your data policies.</p>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="header-search">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Search policies, complaints...">
                    </div>
                    
                    <div class="header-actions">
                        <button class="header-action">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>
                        <button class="header-action">
                            <i class="fas fa-cog"></i>
                        </button>
                        <button class="header-action" onclick="toggleTheme()">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                    
                    <div class="user-menu">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span>Admin</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </header>

            <!-- Content Wrapper -->
            <div class="content-wrapper">
                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="policiesCount">0</h3>
                            <p>Policies Analyzed</p>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i>
                                <span>12% this month</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="complianceRate">0%</h3>
                            <p>Average Compliance</p>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i>
                                <span>5% this month</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="complaintsCount">0</h3>
                            <p>Complaints Processed</p>
                            <div class="stat-trend trend-down">
                                <i class="fas fa-arrow-down"></i>
                                <span>8% this month</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="updatesCount">0</h3>
                            <p>Updates Tracked</p>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i>
                                <span>15% this month</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Compliance Trend</h3>
                            <div class="chart-controls">
                                <button class="chart-control active" onclick="changeChartPeriod('week')">Week</button>
                                <button class="chart-control" onclick="changeChartPeriod('month')">Month</button>
                                <button class="chart-control" onclick="changeChartPeriod('quarter')">Quarter</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="complianceChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Violation Distribution</h3>
                            <div class="chart-controls">
                                <button class="chart-control active" onclick="changeViolationType('severity')">By Severity</button>
                                <button class="chart-control" onclick="changeViolationType('category')">By Category</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="violationChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Compliance Meter -->
                <div class="compliance-meter">
                    <div class="meter-circle">
                        <svg width="180" height="180" viewBox="0 0 180 180">
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#4f46e5" />
                                    <stop offset="100%" stop-color="#10b981" />
                                </linearGradient>
                            </defs>
                            <circle class="progress-ring-bg" cx="90" cy="90" r="80" />
                            <circle class="progress-ring-fill" cx="90" cy="90" r="80" />
                        </svg>
                        <div class="meter-value">
                            <h2 id="complianceScore">0%</h2>
                            <p>Overall Compliance</p>
                        </div>
                    </div>
                    
                    <div class="meter-breakdown">
                        <div class="breakdown-item good">
                            <div class="breakdown-label">
                                <i class="fas fa-check-circle"></i>
                                <span>GDPR Compliance</span>
                            </div>
                            <div class="breakdown-value" id="gdprScore">0%</div>
                        </div>
                        <div class="breakdown-item good">
                            <div class="breakdown-label">
                                <i class="fas fa-check-circle"></i>
                                <span>CCPA Compliance</span>
                            </div>
                            <div class="breakdown-value" id="ccpaScore">0%</div>
                        </div>
                        <div class="breakdown-item warning">
                            <div class="breakdown-label">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>Security Measures</span>
                            </div>
                            <div class="breakdown-value" id="securityScore">0%</div>
                        </div>
                        <div class="breakdown-item danger">
                            <div class="breakdown-label">
                                <i class="fas fa-times-circle"></i>
                                <span>Third-Party Disclosure</span>
                            </div>
                            <div class="breakdown-value" id="thirdPartyScore">0%</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="actions-grid">
                    <div class="action-card" onclick="openModal('policyModal')">
                        <div class="action-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Check Policy</h3>
                        <p>Upload or paste policy text for compliance analysis</p>
                        <span class="action-arrow"></span>
                    </div>
                    
                    <div class="action-card" onclick="openModal('complaintModal')">
                        <div class="action-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Analyze Complaint</h3>
                        <p>Process complaints with sentiment analysis</p>
                        <span class="action-arrow"></span>
                    </div>
                    
                    <div class="action-card" onclick="generateReport()">
                        <div class="action-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <h3>Generate Report</h3>
                        <p>Create comprehensive compliance reports</p>
                        <span class="action-arrow"></span>
                    </div>
                    
                    <div class="action-card" onclick="showNotification('Batch upload coming soon!', 'info')">
                        <div class="action-icon">
                            <i class="fas fa-file-upload"></i>
                        </div>
                        <h3>Batch Upload</h3>
                        <p>Upload multiple policies for bulk analysis</p>
                        <span class="action-arrow"></span>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-section">
                    <div class="activity-header">
                        <h2>Recent Activity</h2>
                        <button class="action-btn secondary" onclick="loadMoreActivity()">
                            View All
                        </button>
                    </div>
                    <div class="activity-timeline">
                        <div class="activity-item success">
                            <div class="activity-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-content">
                                <h4>GDPR Compliance Passed</h4>
                                <p>Company X privacy policy scored 94% compliance</p>
                                <span class="activity-time">2 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item warning">
                            <div class="activity-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="activity-content">
                                <h4>High Severity Complaint</h4>
                                <p>Data breach complaint flagged for immediate review</p>
                                <span class="activity-time">15 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item info">
                            <div class="activity-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Policy Update Detected</h4>
                                <p>Major changes in data retention policy section</p>
                                <span class="activity-time">1 hour ago</span>
                            </div>
                        </div>
                        <div class="activity-item success">
                            <div class="activity-icon">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <div class="activity-content">
                                <h4>New Policy Added</h4>
                                <p>Marketing data policy added to the system</p>
                                <span class="activity-time">2 hours ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Violations Table -->
                <div class="violations-table">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Recent Violations</span>
                        </div>
                        <div class="card-actions">
                            <button class="card-action" title="Refresh">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="card-action" title="Export">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Policy</th>
                                    <th>Violation Type</th>
                                    <th>Severity</th>
                                    <th>Detected</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Privacy Policy v2.1</td>
                                    <td>Missing Data Retention</td>
                                    <td><span class="severity-badge severity-high">High</span></td>
                                    <td>2 hours ago</td>
                                    <td><span class="text-warning font-semibold">Pending</span></td>
                                    <td>
                                        <button class="action-btn primary">Review</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Cookie Policy</td>
                                    <td>Vague Consent Mechanism</td>
                                    <td><span class="severity-badge severity-medium">Medium</span></td>
                                    <td>5 hours ago</td>
                                    <td><span class="text-info font-semibold">In Progress</span></td>
                                    <td>
                                        <button class="action-btn primary">Review</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Terms of Service</td>
                                    <td>Insufficient Security Info</td>
                                    <td><span class="severity-badge severity-medium">Medium</span></td>
                                    <td>1 day ago</td>
                                    <td><span class="text-success font-semibold">Resolved</span></td>
                                    <td>
                                        <button class="action-btn secondary">View</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Employee Data Policy</td>
                                    <td>Third-Party Disclosure</td>
                                    <td><span class="severity-badge severity-low">Low</span></td>
                                    <td>2 days ago</td>
                                    <td><span class="text-success font-semibold">Resolved</span></td>
                                    <td>
                                        <button class="action-btn secondary">View</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>

        <!-- Floating AI Chatbot -->
        <div class="chatbot-container">
            <button class="chatbot-toggle pulse" id="chatbotToggle" onclick="toggleChatbot()">
                <i class="fas fa-robot"></i>
            </button>
            
            <div class="chatbot-window" id="chatbotWindow">
                <div class="chatbot-header">
                    <div>
                        <h3><i class="fas fa-robot"></i> AI Policy Assistant</h3>
                        <div class="status">
                            <span class="status-dot"></span>
                            <span>Online - Ready to help</span>
                        </div>
                    </div>
                    <button class="chatbot-close" onclick="toggleChatbot()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="chatbot-messages" id="chatbotMessages">
                    <!-- Messages will be added here -->
                </div>
                
                <div class="chatbot-input-area">
                    <div class="suggested-questions">
                        <h4>Try asking:</h4>
                        <div class="question-chips">
                            <button class="question-chip" onclick="askSuggestedQuestion(this)">
                                <i class="fas fa-shield-alt"></i> What is GDPR?
                            </button>
                            <button class="question-chip" onclick="askSuggestedQuestion(this)">
                                <i class="fas fa-file-contract"></i> Policy compliance check
                            </button>
                            <button class="question-chip" onclick="askSuggestedQuestion(this)">
                                <i class="fas fa-database"></i> Data retention rules
                            </button>
                        </div>
                    </div>
                    
                    <div class="chatbot-input">
                        <input type="text" id="chatbotInput" placeholder="Ask anything about data policies..." 
                               onkeypress="if(event.key === 'Enter') sendChatMessage()"
                               autocomplete="off">
                        <button id="chatbotSend" onclick="sendChatMessage()">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Policy Checker Modal with 20+ Sample Policies -->
        <div class="modal-overlay" id="policyModal">
            <div class="modal">
                <div class="modal-header">
                    <h3><i class="fas fa-search"></i> Policy Compliance Checker (20+ Sample Policies)</h3>
                    <button class="modal-close" onclick="closeModal('policyModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="policyText">
                            <i class="fas fa-file-alt"></i> Policy Text
                        </label>
                        <textarea id="policyText" class="form-control" placeholder="Paste your policy text here..."></textarea>
                    </div>
                    
                    <!-- 20+ Sample Policy Buttons -->
                    <div class="form-group">
                        <label><i class="fas fa-vial"></i> Sample Policies by Category (20+ Available)</label>
                        <div class="sample-buttons-grid" id="policySampleGrid">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="analyzePolicy()" id="analyzeBtn">
                            <i class="fas fa-search"></i> Analyze Policy
                        </button>
                        <button class="btn btn-secondary" onclick="closeModal('policyModal')">
                            Cancel
                        </button>
                    </div>
                    
                    <!-- Enhanced Results Section -->
                    <div class="results-container" id="policyResults" style="display: none;">
                        <h3 style="margin-bottom: 1.5rem;">Analysis Results</h3>
                        <div id="policyResultsContent" class="result-card"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Complaint Analyzer Modal with 20+ Sample Complaints -->
        <div class="modal-overlay" id="complaintModal">
            <div class="modal">
                <div class="modal-header">
                    <h3><i class="fas fa-comments"></i> Complaint Analyzer (20+ Sample Complaints)</h3>
                    <button class="modal-close" onclick="closeModal('complaintModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="complaintText">
                            <i class="fas fa-comment-dots"></i> Complaint Description
                        </label>
                        <textarea id="complaintText" class="form-control" placeholder="Enter complaint details..."></textarea>
                    </div>
                    
                    <!-- 20+ Sample Complaint Buttons -->
                    <div class="form-group">
                        <label><i class="fas fa-vial"></i> Sample Complaints by Category (20+ Available)</label>
                        <div class="sample-buttons-grid" id="complaintSampleGrid">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="analyzeComplaint()" id="analyzeComplaintBtn">
                            <i class="fas fa-chart-line"></i> Analyze Complaint
                        </button>
                        <button class="btn btn-secondary" onclick="closeModal('complaintModal')">
                            Cancel
                        </button>
                    </div>
                    
                    <!-- Enhanced Complaint Results Section -->
                    <div class="results-container" id="complaintResults" style="display: none;">
                        <h3 style="margin-bottom: 1.5rem;">Analysis Results</h3>
                        <div id="complaintResultsContent" class="result-card"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ========== DASHBOARD INITIALIZATION ==========
        let complianceChart, violationChart;
        let currentChartPeriod = 'week';
        let currentViolationType = 'severity';
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            initChatbot();
            initializeCharts();
            initializeSampleData();
            
            // Add event listeners
            document.getElementById('chatbotInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendChatMessage();
            });
        });
        
        function initializeDashboard() {
            // Animate counters
            animateCounter('policiesCount', 1247);
            animateCounter('complaintsCount', 589);
            animateCounter('updatesCount', 342);
            
            // Animate compliance scores
            setTimeout(() => {
                document.getElementById('complianceRate').textContent = '87%';
                document.getElementById('complianceScore').textContent = '87%';
                document.getElementById('gdprScore').textContent = '92%';
                document.getElementById('ccpaScore').textContent = '88%';
                document.getElementById('securityScore').textContent = '75%';
                document.getElementById('thirdPartyScore').textContent = '65%';
                
                // Animate compliance meter
                const circle = document.querySelector('.progress-ring-fill');
                const radius = circle.r.baseVal.value;
                const circumference = radius * 2 * Math.PI;
                circle.style.strokeDasharray = `${circumference} ${circumference}`;
                circle.style.strokeDashoffset = circumference;
                const offset = circumference - (87 / 100) * circumference;
                setTimeout(() => {
                    circle.style.strokeDashoffset = offset;
                }, 500);
            }, 1000);
        }
        
        function animateCounter(elementId, finalValue) {
            let current = 0;
            const element = document.getElementById(elementId);
            const increment = finalValue / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= finalValue) {
                    element.textContent = finalValue.toLocaleString();
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current).toLocaleString();
                }
            }, 30);
        }
        
        // ========== CHART FUNCTIONS ==========
        function initializeCharts() {
            // Compliance Trend Chart
            const complianceCtx = document.getElementById('complianceChart').getContext('2d');
            complianceChart = new Chart(complianceCtx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Compliance Score',
                        data: [78, 82, 85, 87, 86, 88, 90],
                        borderColor: '#4f46e5',
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#4f46e5',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#4f46e5',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.parsed.y}%`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        y: {
                            beginAtZero: false,
                            min: 70,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    }
                }
            });
            
            // Violation Distribution Chart
            const violationCtx = document.getElementById('violationChart').getContext('2d');
            violationChart = new Chart(violationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['High', 'Medium', 'Low'],
                    datasets: [{
                        data: [12, 24, 8],
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(59, 130, 246, 0.8)'
                        ],
                        borderColor: [
                            'rgb(239, 68, 68)',
                            'rgb(245, 158, 11)',
                            'rgb(59, 130, 246)'
                        ],
                        borderWidth: 2,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                font: {
                                    size: 12
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${value} violations (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '70%'
                }
            });
        }
        
        function changeChartPeriod(period) {
            currentChartPeriod = period;
            
            // Update active button
            document.querySelectorAll('.chart-controls .chart-control').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update chart data based on period
            let labels, data;
            switch(period) {
                case 'week':
                    labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                    data = [78, 82, 85, 87, 86, 88, 90];
                    break;
                case 'month':
                    labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                    data = [82, 85, 87, 89];
                    break;
                case 'quarter':
                    labels = ['Month 1', 'Month 2', 'Month 3'];
                    data = [80, 85, 88];
                    break;
            }
            
            complianceChart.data.labels = labels;
            complianceChart.data.datasets[0].data = data;
            complianceChart.update();
        }
        
        function changeViolationType(type) {
            currentViolationType = type;
            
            // Update active button
            document.querySelectorAll('.chart-controls .chart-control').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update chart data based on type
            if (type === 'category') {
                violationChart.data.labels = ['Data Collection', 'Third-Party', 'Security', 'Retention', 'User Rights'];
                violationChart.data.datasets[0].data = [8, 15, 6, 10, 5];
                violationChart.data.datasets[0].backgroundColor = [
                    'rgba(79, 70, 229, 0.8)',
                    'rgba(16, 185, 129, 0.8)',
                    'rgba(245, 158, 11, 0.8)',
                    'rgba(59, 130, 246, 0.8)',
                    'rgba(239, 68, 68, 0.8)'
                ];
                violationChart.data.datasets[0].borderColor = [
                    'rgb(79, 70, 229)',
                    'rgb(16, 185, 129)',
                    'rgb(245, 158, 11)',
                    'rgb(59, 130, 246)',
                    'rgb(239, 68, 68)'
                ];
            } else {
                violationChart.data.labels = ['High', 'Medium', 'Low'];
                violationChart.data.datasets[0].data = [12, 24, 8];
                violationChart.data.datasets[0].backgroundColor = [
                    'rgba(239, 68, 68, 0.8)',
                    'rgba(245, 158, 11, 0.8)',
                    'rgba(59, 130, 246, 0.8)'
                ];
                violationChart.data.datasets[0].borderColor = [
                    'rgb(239, 68, 68)',
                    'rgb(245, 158, 11)',
                    'rgb(59, 130, 246)'
                ];
            }
            
            violationChart.update();
        }
        
        // ========== UI FUNCTIONS ==========
        function toggleTheme() {
            const body = document.body;
            const currentBg = body.style.background;
            const darkTheme = 'linear-gradient(135deg, #1e1b4b 0%, #3730a3 100%)';
            const lightTheme = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            
            if (currentBg === darkTheme || !currentBg) {
                body.style.background = darkTheme;
                event.target.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                body.style.background = lightTheme;
                event.target.innerHTML = '<i class="fas fa-moon"></i>';
            }
        }
        
        function generateReport() {
            showNotification('Generating compliance report...', 'info');
            
            // Simulate report generation
            setTimeout(() => {
                showNotification('Report generated successfully!', 'success');
                
                // Create a sample report download
                const reportContent = `
                    Compliance Report - Generated on ${new Date().toLocaleDateString()}
                    =============================================
                    
                    Overall Compliance: 87%
                    Policies Analyzed: 1,247
                    Complaints Processed: 589
                    
                    Key Findings:
                    - GDPR Compliance: 92% 
                    - CCPA Compliance: 88% 
                    - Security Measures: 75% 
                    - Third-Party Disclosure: 65% 
                    
                    Recommendations:
                    1. Improve third-party data sharing disclosures
                    2. Enhance security measure documentation
                    3. Regular compliance audits recommended
                    
                    Generated by PolicyGuard AI
                `;
                
                const blob = new Blob([reportContent], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `compliance-report-${new Date().toISOString().split('T')[0]}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 2000);
        }
        
        function loadMoreActivity() {
            showNotification('Loading more activities...', 'info');
            // In a real app, this would load more data from the server
            setTimeout(() => {
                showNotification('Activities loaded successfully!', 'success');
            }, 1000);
        }
        
        // ========== MODAL FUNCTIONS ==========
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            
            // Clear results when closing
            if (modalId === 'policyModal') {
                document.getElementById('policyResults').style.display = 'none';
                document.getElementById('policyText').value = '';
            } else if (modalId === 'complaintModal') {
                document.getElementById('complaintResults').style.display = 'none';
                document.getElementById('complaintText').value = '';
            }
        }
        
        // ========== NOTIFICATION SYSTEM ==========
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: var(--radius-md);
                color: white;
                z-index: 2000;
                animation: slideIn 0.3s ease;
                display: flex;
                align-items: center;
                gap: 0.75rem;
                box-shadow: var(--shadow-lg);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            `;
            
            const icons = {
                success: 'check-circle',
                error: 'exclamation-circle',
                info: 'info-circle',
                warning: 'exclamation-triangle'
            };
            
            notification.innerHTML = `
                <i class="fas fa-${icons[type]}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // ========== CHATBOT FUNCTIONS ==========
        class AIChatbot {
            constructor() {
                this.responses = {
                    'gdpr': {
                        response: `The <strong>General Data Protection Regulation (GDPR)</strong> is a comprehensive data protection law in the European Union that became enforceable in May 2018. Here are the key aspects:

                        <div class="ai-info">
                            <strong>Key Principles:</strong><br>
                             Lawfulness, fairness, and transparency<br>
                             Purpose limitation<br>
                             Data minimization<br>
                             Accuracy<br>
                             Storage limitation<br>
                             Integrity and confidentiality<br>
                             Accountability
                        </div>`,
                        followup: ['GDPR penalties', 'GDPR implementation', 'GDPR vs CCPA']
                    },
                    'compliance': {
                        response: `To <strong>check policy compliance</strong>, follow this systematic approach:

                        <div class="ai-info">
                            <strong>Step-by-Step Compliance Check:</strong><br>
                            1. <strong>Data Inventory:</strong> Map all data collection points<br>
                            2. <strong>Consent Review:</strong> Verify explicit consent mechanisms<br>
                            3. <strong>Policy Analysis:</strong> Check policy completeness and clarity<br>
                            4. <strong>Third-Party Assessment:</strong> Review data sharing agreements<br>
                            5. <strong>Security Audit:</strong> Verify security measures and encryption
                        </div>`,
                        followup: ['Fix compliance issues', 'Best practices', 'Automated tools']
                    }
                };
                this.chatHistory = [];
            }
            
            getResponse(userMessage) {
                const lowerMessage = userMessage.toLowerCase();
                this.chatHistory.push({ role: 'user', content: userMessage });
                
                for (const [keyword, data] of Object.entries(this.responses)) {
                    if (lowerMessage.includes(keyword)) {
                        this.chatHistory.push({ role: 'assistant', content: data.response });
                        return {
                            response: data.response,
                            followup: data.followup || []
                        };
                    }
                }
                
                const defaultResponse = "I understand you're asking about data policies. For effective compliance, ensure your policies clearly state data collection purposes, obtain explicit consent, implement security measures, and respect user rights.";
                this.chatHistory.push({ role: 'assistant', content: defaultResponse });
                return {
                    response: defaultResponse,
                    followup: ['Tell me about GDPR', 'How to check compliance?', 'Data retention rules']
                };
            }
            
            getGreeting() {
                return `Hello! I'm your <strong>AI Policy Assistant</strong> 

                I specialize in data policy compliance and can help you with GDPR, CCPA, privacy policies, security measures, and more.

                <div class="ai-info">
                    <strong>Try asking me:</strong><br>
                     "What should be in a privacy policy?"<br>
                     "How do I check GDPR compliance?"<br>
                     "What are data retention best practices?"<br>
                     "How to handle user data requests?"<br>
                     "What security measures are required?"
                </div>

                What would you like to know about data policy compliance today?`;
            }
        }
        
        let chatbot = new AIChatbot();
        let isTyping = false;
        
        function initChatbot() {
            const messagesDiv = document.getElementById('chatbotMessages');
            const greeting = chatbot.getGreeting();
            
            // Add greeting message
            addMessage(greeting, false);
            chatbot.chatHistory.push({ role: 'assistant', content: greeting });
        }
        
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotToggle = document.getElementById('chatbotToggle');
            
            chatbotWindow.classList.toggle('active');
            if (chatbotWindow.classList.contains('active')) {
                chatbotToggle.classList.remove('pulse');
            } else {
                chatbotToggle.classList.add('pulse');
            }
        }
        
        function addMessage(content, isUser = false) {
            const messagesDiv = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <i class="fas fa-user"></i>
                        <span>You</span>
                    </div>
                    <div class="message-content">${content}</div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <i class="fas fa-robot"></i>
                        <span>AI Assistant</span>
                    </div>
                    <div class="message-content">${content}</div>
                `;
            }
            
            messagesDiv.appendChild(messageDiv);
            setTimeout(() => {
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'end' });
            }, 100);
        }
        
        function sendChatMessage() {
            if (isTyping) return;
            
            const input = document.getElementById('chatbotInput');
            const sendBtn = document.getElementById('chatbotSend');
            const message = input.value.trim();
            
            if (!message) return;
            
            input.value = '';
            sendBtn.disabled = true;
            
            addMessage(message, true);
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const aiResponse = chatbot.getResponse(message);
                addMessage(aiResponse.response, false);
                updateSuggestedQuestions(aiResponse.followup);
                sendBtn.disabled = false;
                input.focus();
            }, 1000 + Math.random() * 1000);
        }
        
        function showTypingIndicator() {
            if (isTyping) return;
            isTyping = true;
            const messagesDiv = document.getElementById('chatbotMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant typing';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-header">
                    <i class="fas fa-robot"></i>
                    <span>AI Assistant</span>
                </div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            messagesDiv.appendChild(typingDiv);
            typingDiv.scrollIntoView({ behavior: 'smooth', block: 'end' });
        }
        
        function hideTypingIndicator() {
            isTyping = false;
            const typingDiv = document.getElementById('typingIndicator');
            if (typingDiv) typingDiv.remove();
        }
        
        function updateSuggestedQuestions(questions) {
            const chipsContainer = document.querySelector('.question-chips');
            if (!chipsContainer) return;
            
            chipsContainer.innerHTML = '';
            questions.slice(0, 3).forEach(question => {
                const chip = document.createElement('button');
                chip.className = 'question-chip';
                chip.innerHTML = `<i class="fas fa-lightbulb"></i> ${question}`;
                chip.onclick = () => askSuggestedQuestion(chip);
                chipsContainer.appendChild(chip);
            });
        }
        
        function askSuggestedQuestion(button) {
            const question = button.textContent.replace(' ', '').trim();
            document.getElementById('chatbotInput').value = question;
            sendChatMessage();
        }
        
        // ========== SAMPLE DATA INITIALIZATION ==========
        function initializeSampleData() {
            createPolicySamples();
            createComplaintSamples();
        }

        // ========== 20+ SAMPLE POLICIES ==========
        const samplePolicies = {
            1: {
                name: ' GDPR Comprehensive Policy',
                category: 'GDPR',
                risk: 'low',
                text: `GENERAL DATA PROTECTION REGULATION (GDPR) COMPLIANCE POLICY

1. DATA COLLECTION AND CONSENT
We collect personal data only with explicit consent from users. Consent mechanisms are clear, specific, and easily withdrawable. We maintain detailed records of all consent obtained.

2. DATA PROCESSING PURPOSES
Personal data is processed only for specified, explicit, and legitimate purposes. We maintain records of all processing activities as required by Article 30 of GDPR.

3. DATA SUBJECT RIGHTS
Users have the right to access, rectify, erase, and restrict processing of their data. We respond to all requests within 30 days as required by law. Data portability is provided in machine-readable format.

4. DATA PROTECTION OFFICER
We have appointed a Data Protection Officer who oversees GDPR compliance, handles data subject requests, and acts as the point of contact for supervisory authorities.

5. DATA BREACH NOTIFICATION
We have procedures to detect, investigate, and report personal data breaches within 72 hours to the supervisory authority. Affected individuals are notified without undue delay.

6. INTERNATIONAL DATA TRANSFERS
All international data transfers are conducted with appropriate safeguards and in compliance with GDPR requirements. Standard Contractual Clauses are used where necessary.

7. DATA PROTECTION IMPACT ASSESSMENTS
DPIAs are conducted for high-risk processing activities as required by Article 35.

8. RECORDS OF PROCESSING ACTIVITIES
We maintain detailed records of all processing activities including purposes, categories of data, recipients, and retention periods.`,
                compliance: 96,
                gdpr: 98,
                ccpa: 85,
                security: 94,
                thirdParty: 92,
                violations: []
            },
            2: {
                name: ' CCPA Privacy Policy',
                category: 'CCPA',
                risk: 'low',
                text: `CALIFORNIA CONSUMER PRIVACY ACT (CCPA) PRIVACY POLICY

1. COLLECTION OF PERSONAL INFORMATION
We collect categories of personal information including identifiers, commercial information, internet activity, geolocation data, and professional information.

2. BUSINESS PURPOSE FOR COLLECTION
Personal information is collected to provide services, improve user experience, conduct internal analytics, and for marketing purposes.

3. SALE OF PERSONAL INFORMATION
We do not sell personal information to third parties. Users have the right to opt-out of any future sales. We honor user requests to opt-out within 15 days.

4. USER RIGHTS UNDER CCPA
Users have the right to know what personal information is collected, request deletion, and opt-out of sales. We provide two or more methods for submitting requests.

5. VERIFICATION PROCESS
We verify user identity before responding to requests using reasonable methods based on the information provided. We do not require excessive verification.

6. NON-DISCRIMINATION
We do not discriminate against users for exercising their CCPA rights. All users receive the same quality of service regardless of their privacy choices.

7. FINANCIAL INCENTIVES
Any financial incentives offered in exchange for personal information are clearly described and based on the value of the data provided.

8. AUTHORIZED AGENTS
We accept requests from authorized agents with proof of authorization and verify the consumer's identity directly.`,
                compliance: 92,
                gdpr: 82,
                ccpa: 98,
                security: 88,
                thirdParty: 94,
                violations: []
            },
            3: {
                name: ' HIPAA Healthcare Policy',
                category: 'Healthcare',
                risk: 'critical',
                text: `HIPAA COMPLIANCE POLICY FOR PROTECTED HEALTH INFORMATION

1. HIPAA COMPLIANCE POLICY FOR PROTECTED HEALTH INFORMATION

1. PRIVACY RULE COMPLIANCE
We protect all individually identifiable health information (PHI) in accordance with HIPAA Privacy Rule requirements. PHI is only used or disclosed for treatment, payment, and healthcare operations with appropriate patient authorization.

2. SECURITY RULE IMPLEMENTATION
We maintain administrative, physical, and technical safeguards for electronic PHI (ePHI). This includes access controls, audit logs, integrity controls, and transmission security measures.

3. BREACH NOTIFICATION PROCEDURES
Any breach of unsecured PHI is reported to affected individuals, the Secretary of HHS, and in some cases, the media. Notifications are sent within 60 days of breach discovery.

4. MINIMUM NECESSARY STANDARD
We limit uses and disclosures of PHI to the minimum necessary to accomplish the intended purpose. Workforce members receive training on minimum necessary requirements.

5. PATIENT RIGHTS
Patients have the right to access their PHI, request amendments, receive an accounting of disclosures, and request restrictions on uses and disclosures.

6. BUSINESS ASSOCIATE AGREEMENTS
We execute BAAs with all business associates that create, receive, maintain, or transmit PHI on our behalf. BAAs require associates to implement appropriate safeguards.

7. WORKFORCE TRAINING
All workforce members receive HIPAA training upon hire and annually thereafter. Training covers privacy and security policies, breach reporting, and sanctions for violations.

8. SANCTIONS POLICY
Workforce members who violate HIPAA policies are subject to disciplinary action up to and including termination, consistent with the severity of the violation.`,
                compliance: 88,
                gdpr: 65,
                ccpa: 70,
                security: 95,
                thirdParty: 82,
                violations: [
                    { rule: 'GDPR Compliance', issue: 'Policy not GDPR compliant', severity: 'Medium' },
                    { rule: 'CCPA Compliance', issue: 'California-specific requirements missing', severity: 'Low' }
                ]
            },
            4: {
                name: ' PCI DSS Payment Card Policy',
                category: 'Finance',
                risk: 'critical',
                text: `PCI DSS COMPLIANCE POLICY FOR PAYMENT CARD DATA

1. PROTECTED DATA SCOPE
We protect all cardholder data including primary account number (PAN), cardholder name, expiration date, and service code. Sensitive authentication data is never stored after authorization.

2. NETWORK SECURITY
We maintain firewalls, segmentation, and secure configurations to protect cardholder data environments. Default passwords and security parameters are changed before system deployment.

3. DATA STORAGE RETENTION
Cardholder data is stored only as long as necessary to meet business, legal, and/or regulatory requirements. Secure deletion methods are used when data is no longer needed.

4. ENCRYPTION REQUIREMENTS
All cardholder data transmitted over open, public networks is encrypted using strong cryptography. PAN is rendered unreadable anywhere it is stored using encryption, truncation, or hashing.

5. ACCESS CONTROL MEASURES
Access to cardholder data is restricted to business need-to-know. Unique IDs are assigned to each person with computer access. Physical access to cardholder data is restricted.

6. LOGGING AND MONITORING
We track and monitor all access to network resources and cardholder data. Audit trails are maintained for at least one year, with at least three months immediately available for analysis.

7. VULNERABILITY MANAGEMENT
We maintain anti-malware software on all systems commonly affected by malware. Secure coding practices are followed, and applications are tested for vulnerabilities.

8. SECURITY TESTING
We regularly test security systems and processes. Network scans are performed quarterly and after any significant change. Penetration testing is conducted annually.

9. INFORMATION SECURITY POLICY
We maintain a policy that addresses information security for all personnel. The policy is reviewed annually and updated as needed.`,
                compliance: 94,
                gdpr: 78,
                ccpa: 75,
                security: 98,
                thirdParty: 88,
                violations: [
                    { rule: 'GDPR Compliance', issue: 'European data protection requirements not addressed', severity: 'Medium' }
                ]
            },
            5: {
                name: ' COPPA Children\'s Policy',
                category: 'Children',
                risk: 'high',
                text: `COPPA COMPLIANCE POLICY FOR CHILDREN'S PRIVACY

1. VERIFIABLE PARENTAL CONSENT
We obtain verifiable parental consent before collecting, using, or disclosing personal information from children under 13. Consent methods include signed forms, credit card verification, or government ID verification.

2. PARENTAL RIGHTS
Parents have the right to review their child's personal information, request deletion, and refuse further collection or use. Parents can revoke consent at any time.

3. INFORMATION COLLECTION PRACTICES
We collect only the minimum information necessary from children. Information collected includes username, password, parent email, and gameplay data. Geolocation and contact information are not collected.

4. DIRECT NOTICE TO PARENTS
We provide direct notice to parents about our information practices before collecting any personal information from their child. Notice includes what information is collected and how it will be used.

5. DATA RETENTION AND DELETION
Children's personal information is retained only as long as reasonably necessary to fulfill the purpose for which it was collected. Parents can request deletion at any time.

6. DISCLOSURE TO THIRD PARTIES
We do not disclose children's personal information to third parties except as necessary to provide the service. Any third parties must agree to maintain confidentiality and security.

7. SECURITY SAFEGUARDS
We maintain reasonable procedures to protect the confidentiality, security, and integrity of children's personal information. Access is restricted to authorized personnel only.

8. AGE VERIFICATION
We make reasonable efforts to ensure that persons collecting personal information from children are aware that the child is under 13. We do not condition a child's participation on disclosing more information than reasonably necessary.`,
                compliance: 90,
                gdpr: 82,
                ccpa: 88,
                security: 92,
                thirdParty: 85,
                violations: []
            },
            6: {
                name: ' HR Employee Data Policy',
                category: 'Employment',
                risk: 'medium',
                text: `HR EMPLOYEE DATA PRIVACY POLICY

1. EMPLOYEE DATA COLLECTION
We collect employee personal information necessary for employment, including contact details, identification documents, tax information, bank account details, and emergency contacts. All collection is transparent and for legitimate business purposes.

2. DATA USAGE
Employee data is used for payroll processing, benefits administration, performance management, and legal compliance. Data is not used for purposes incompatible with these objectives.

3. DATA SHARING
Employee data may be shared with third-party service providers for payroll, benefits, and HR administration. All providers must enter data processing agreements and implement appropriate safeguards.

4. ACCESS CONTROL
Access to employee data is restricted to HR personnel, managers with legitimate need, and IT administrators. Access is reviewed quarterly and revoked upon role changes or termination.

5. DATA RETENTION
Employee records are retained for the duration of employment plus 7 years after termination to comply with tax and legal requirements. Data is securely destroyed after the retention period.

6. EMPLOYEE RIGHTS
Employees have the right to access their personal data, request corrections, and in some jurisdictions, request deletion subject to legal retention requirements.

7. SECURITY MEASURES
We implement encryption for sensitive employee data, secure authentication for HR systems, and regular security awareness training for all employees.

8. INTERNATIONAL TRANSFERS
Employee data may be transferred internationally for global payroll and HR operations. Appropriate safeguards are implemented for cross-border data transfers.`,
                compliance: 86,
                gdpr: 84,
                ccpa: 82,
                security: 88,
                thirdParty: 80,
                violations: [
                    { rule: 'Data Retention', issue: 'Retention period for certain data not specified', severity: 'Low' }
                ]
            },
            7: {
                name: ' Mobile App Privacy Policy',
                category: 'Mobile',
                risk: 'medium',
                text: `MOBILE APPLICATION PRIVACY POLICY

1. INFORMATION WE COLLECT
Our app collects device information (device ID, model, OS version), location data (with consent), usage statistics, crash reports, and in-app purchase data. We do not collect contacts, photos, or messages without explicit permission.

2. PERMISSIONS
We request only permissions necessary for app functionality. Location permission is requested only when needed and users can disable at any time. Camera and photo access require explicit user consent.

3. THIRD-PARTY SERVICES
We use analytics services (Google Analytics, Firebase) and advertising networks (AdMob) that may collect device identifiers and usage data. Users can opt-out of interest-based advertising.

4. DATA STORAGE
User data is stored securely on our servers with encryption. Some data may be cached locally on the device. Users can clear local data through app settings.

5. CHILDREN'S PRIVACY
Our app is not directed at children under 13. If we learn that we have collected personal information from a child without parental consent, we will delete it promptly.

6. USER RIGHTS
Users can access, correct, or delete their personal data through app settings or by contacting support. Account deletion requests are processed within 30 days.

7. DATA RETENTION
We retain user data as long as the account is active or as needed to provide services. Data is anonymized or deleted after account deletion, subject to legal requirements.

8. SECURITY MEASURES
We implement encryption, secure authentication, and regular security updates. However, no method of transmission over the Internet is 100% secure.`,
                compliance: 84,
                gdpr: 86,
                ccpa: 84,
                security: 82,
                thirdParty: 78,
                violations: [
                    { rule: 'Consent', issue: 'Consent mechanism not clearly explained', severity: 'Medium' },
                    { rule: 'Data Sharing', issue: 'Third-party data sharing details vague', severity: 'Low' }
                ]
            },
            8: {
                name: ' Basic Privacy Policy (Minimal)',
                category: 'Basic',
                risk: 'high',
                text: `PRIVACY POLICY

1. INFORMATION WE COLLECT
We collect personal information such as name, email address, and usage data when you use our services.

2. HOW WE USE YOUR INFORMATION
Your information is used to provide services, communicate with you, and improve our offerings.

3. INFORMATION SHARING
We may share your information with trusted third parties who assist us in operating our website and conducting our business.

4. DATA SECURITY
We implement security measures to protect your personal information.

5. YOUR RIGHTS
You have the right to access, update, or delete your personal information.

6. CHANGES TO THIS POLICY
We may update this privacy policy from time to time.`,
                compliance: 45,
                gdpr: 40,
                ccpa: 42,
                security: 50,
                thirdParty: 35,
                violations: [
                    { rule: 'Consent', issue: 'No consent mechanism specified', severity: 'High' },
                    { rule: 'Data Retention', issue: 'No retention period defined', severity: 'High' },
                    { rule: 'User Rights', issue: 'Rights process not detailed', severity: 'High' },
                    { rule: 'Data Sharing', issue: 'Third-party sharing vague', severity: 'Medium' },
                    { rule: 'Security', issue: 'Security measures not specified', severity: 'Medium' },
                    { rule: 'GDPR', issue: 'GDPR requirements not addressed', severity: 'High' }
                ]
            },
            9: {
                name: ' EU ePrivacy Directive Policy',
                category: 'GDPR',
                risk: 'low',
                text: `E-PRIVACY DIRECTIVE COMPLIANCE POLICY

1. COOKIE CONSENT
We obtain explicit consent before placing non-essential cookies on users' devices. Consent is obtained through a clear, prominent banner that explains cookie purposes and provides easy opt-out options.

2. COOKIE TYPES
Essential cookies (authentication, security) do not require consent. Functional, analytics, and advertising cookies require explicit opt-in consent. Users can change preferences at any time.

3. CONSENT RECORDS
We maintain records of all consents obtained, including timestamp, cookie categories accepted, and consent version. Records are retained for the duration of processing.

4. PRIVACY NOTICE
Our privacy notice includes detailed information about cookie purposes, duration, and third-party access. The notice is easily accessible from all pages.

5. WITHDRAWAL OF CONSENT
Users can withdraw consent at any time through cookie preferences or browser settings. Withdrawal does not affect the lawfulness of processing based on consent before its withdrawal.

6. THIRD-PARTY COOKIES
We identify all third-party cookies and provide links to their privacy policies. Third parties must provide equivalent consent mechanisms.

7. ANALYTICS
We use privacy-friendly analytics that anonymize IP addresses and do not track across sites. Analytics data is used only for website improvement.

8. DIRECT MARKETING
Electronic direct marketing requires prior consent (opt-in). Each marketing communication includes a clear opt-out mechanism.`,
                compliance: 94,
                gdpr: 96,
                ccpa: 80,
                security: 88,
                thirdParty: 90,
                violations: []
            },
            10: {
                name: ' Marketing Data Policy',
                category: 'Marketing',
                risk: 'medium',
                text: `MARKETING DATA PRIVACY POLICY

1. DATA COLLECTION FOR MARKETING
We collect email addresses, browsing behavior, purchase history, and demographic information for marketing purposes. Collection occurs through website forms, cookie tracking, and purchase records.

2. CONSENT FOR MARKETING
Marketing communications require explicit opt-in consent. Consent is obtained through clear checkboxes without pre-ticking. Separate consent is obtained for different marketing channels (email, SMS, push).

3. MARKETING PREFERENCES
Users can manage marketing preferences through account settings or preference centers. Preferences include communication channels, frequency, and types of marketing content.

4. PROFILING
We may create customer profiles based on purchase history and browsing behavior to personalize marketing. Profiling is transparent, and users can object to automated decision-making.

5. DATA SHARING WITH MARKETING PARTNERS
We share anonymized data with marketing platforms (Mailchimp, HubSpot) under data processing agreements. Personal data is not sold to third parties for their own marketing.

6. RETENTION OF MARKETING DATA
Marketing data is retained for 2 years after last interaction or until consent is withdrawn. Data is anonymized or deleted after retention period.

7. OPT-OUT RIGHTS
Every marketing communication includes a clear, easy-to-use opt-out mechanism. Opt-out requests are processed within 5 business days and confirmed to the user.

8. MARKETING TO CHILDREN
We do not target marketing to children under 16. If we inadvertently collect marketing data from a child, we will delete it promptly.`,
                compliance: 82,
                gdpr: 84,
                ccpa: 80,
                security: 78,
                thirdParty: 76,
                violations: [
                    { rule: 'Data Retention', issue: 'Retention period not fully specified', severity: 'Low' },
                    { rule: 'Third-Party Sharing', issue: 'Third-party details insufficient', severity: 'Low' }
                ]
            },
            11: {
                name: ' SOC 2 Security Policy',
                category: 'Security',
                risk: 'low',
                text: `SOC 2 COMPLIANCE SECURITY POLICY

1. INFORMATION SECURITY PROGRAM
We maintain a comprehensive information security program designed to protect the confidentiality, integrity, and availability of customer data. The program is reviewed and approved by management annually.

2. ACCESS CONTROL
Access to systems and data is granted based on job function (least privilege principle). Multi-factor authentication is required for remote access and privileged accounts. Access is reviewed quarterly.

3. SYSTEM OPERATIONS
We maintain documented procedures for system monitoring, incident response, and capacity planning. System performance is monitored 24/7 with alerts for anomalies.

4. CHANGE MANAGEMENT
All changes to production systems follow a formal change management process including testing, approval, and documentation. Emergency changes require expedited approval.

5. RISK MANAGEMENT
We conduct annual risk assessments to identify potential threats to security objectives. Risk treatment plans are developed and tracked to completion.

6. VENDOR MANAGEMENT
Third-party vendors with access to customer data undergo security reviews. Contracts include security requirements, right to audit, and breach notification obligations.

7. INCIDENT RESPONSE
We maintain an incident response plan that is tested annually. Security incidents are documented, investigated, and resolved according to severity.

8. BUSINESS CONTINUITY
Critical systems have documented disaster recovery plans. Backups are performed daily and tested quarterly for recoverability. RTO and RPO are defined for each system.

9. PHYSICAL SECURITY
Data centers have physical access controls including biometric authentication, video surveillance, and visitor logs. Environmental controls protect against fire, flood, and power outages.`,
                compliance: 96,
                gdpr: 88,
                ccpa: 86,
                security: 98,
                thirdParty: 92,
                violations: []
            },
            12: {
                name: ' ISO 27001 Information Security',
                category: 'Security',
                risk: 'low',
                text: `ISO 27001 INFORMATION SECURITY MANAGEMENT SYSTEM

1. ISMS SCOPE
Our Information Security Management System (ISMS) covers all information assets, processes, and personnel involved in delivering our services. The ISMS is certified to ISO 27001 standards.

2. LEADERSHIP AND COMMITMENT
Top management demonstrates leadership by establishing security policy, ensuring resources are available, and reviewing ISMS performance regularly. Security roles and responsibilities are clearly defined.

3. RISK ASSESSMENT AND TREATMENT
We conduct systematic information security risk assessments using established methodology. Risks are evaluated against acceptance criteria, and treatment plans are implemented.

4. SECURITY POLICY
Our information security policy is approved by management, communicated to all employees, and reviewed annually. The policy aligns with business requirements and legal obligations.

5. ORGANIZATION OF INFORMATION SECURITY
Information security roles are defined and assigned. We maintain separation of duties where appropriate. Mobile device and teleworking policies address remote access security.

6. HUMAN RESOURCE SECURITY
Background verification checks are conducted before employment. All employees receive security awareness training upon hire and annually. Disciplinary processes address security violations.

7. ASSET MANAGEMENT
All information assets are inventoried and classified according to sensitivity. Asset owners are assigned, and acceptable use policies are enforced.

8. ACCESS CONTROL
Access to information is controlled based on business requirements and security classification. User access provisioning and de-provisioning follow formal procedures.`,
                compliance: 95,
                gdpr: 90,
                ccpa: 88,
                security: 97,
                thirdParty: 90,
                violations: []
            },
            13: {
                name: ' Financial Services GLBA Policy',
                category: 'Finance',
                risk: 'high',
                text: `GRAMM-LEACH-BLILEY ACT (GLBA) COMPLIANCE POLICY

1. FINANCIAL PRIVACY NOTICE
We provide initial and annual privacy notices to all customers describing our information collection, sharing practices, and opt-out rights. Notices are clear, conspicuous, and delivered in writing or electronically.

2. OPT-OUT RIGHTS
Customers have the right to opt-out of having their nonpublic personal information shared with nonaffiliated third parties. Opt-out notices are provided before any information sharing occurs.

3. SAFEGUARDS RULE
We implement administrative, technical, and physical safeguards to protect customer information. The safeguards program is designed to ensure security and confidentiality, protect against threats, and prevent unauthorized access.

4. INFORMATION COLLECTION
We collect nonpublic personal information necessary to provide financial products and services. Information includes name, address, SSN, account numbers, transaction history, and credit information.

5. INFORMATION SHARING
We share information with affiliates as permitted by law. Sharing with nonaffiliated third parties is limited to processing transactions, servicing accounts, and marketing financial products with opt-out rights.

6. SERVICE PROVIDER OVERSIGHT
Third-party service providers with access to customer information must contractually agree to maintain safeguards. We monitor provider compliance through assessments and audits.

7. EMPLOYEE TRAINING
All employees receive training on GLBA requirements, privacy practices, and information security. Training is conducted upon hire and annually thereafter.

8. INCIDENT RESPONSE
Security incidents involving customer information are investigated promptly. Breach notification is provided to affected individuals and regulators as required by law.`,
                compliance: 88,
                gdpr: 70,
                ccpa: 75,
                security: 92,
                thirdParty: 85,
                violations: [
                    { rule: 'GDPR', issue: 'European requirements not addressed', severity: 'Medium' },
                    { rule: 'CCPA', issue: 'California-specific requirements missing', severity: 'Medium' }
                ]
            },
            14: {
                name: ' FERPA Education Records Policy',
                category: 'Education',
                risk: 'critical',
                text: `FAMILY EDUCATIONAL RIGHTS AND PRIVACY ACT (FERPA) POLICY

1. STUDENT RECORD ACCESS
Parents and eligible students have the right to access and review education records within 45 days of request. Records include grades, transcripts, disciplinary records, and attendance information.

2. AMENDMENT OF RECORDS
Parents and eligible students may request amendment of records they believe are inaccurate or misleading. If the request is denied, a hearing may be requested.

3. CONSENT FOR DISCLOSURE
Written consent is required before disclosing personally identifiable information from education records, with specific exceptions for school officials, certain studies, and health/safety emergencies.

4. DIRECTORY INFORMATION
We may designate certain information as directory information (name, address, phone, dates of attendance) which may be disclosed without consent unless parents opt-out annually.

5. SCHOOL OFFICIAL DEFINITION
School officials include teachers, administrators, support staff, and contractors performing institutional functions with legitimate educational interests.

6. RECORD OF DISCLOSURES
We maintain records of all disclosures of personally identifiable information from education records, except for disclosures to parents, eligible students, or with written consent.

7. THIRD-PARTY CONTRACTORS
Contractors performing services that would otherwise be performed by school officials must comply with FERPA requirements and are considered school officials.

8. ANNUAL NOTIFICATION
We provide annual notification of FERPA rights to parents and eligible students through handbooks, websites, or direct mail. Notification includes procedures for exercising rights.`,
                compliance: 92,
                gdpr: 60,
                ccpa: 65,
                security: 88,
                thirdParty: 84,
                violations: [
                    { rule: 'GDPR', issue: 'European requirements not addressed', severity: 'High' },
                    { rule: 'CCPA', issue: 'California consumer rights not addressed', severity: 'High' }
                ]
            },
            15: {
                name: ' App Store Privacy Labels',
                category: 'Mobile',
                risk: 'low',
                text: `APP STORE PRIVACY LABEL DISCLOSURES

1. DATA TYPES COLLECTED
Contact Info: Name, Email, Phone Number (linked to user)
Identifiers: User ID, Device ID (linked to user)
Usage Data: Product interaction, Advertising data (linked to user)
Diagnostics: Crash data, Performance data (not linked to user)
Location: Coarse location (linked to user)

2. DATA USE PURPOSES
Contact Info: Account management, Communications
Identifiers: Analytics, Product personalization
Usage Data: Analytics, Product functionality
Diagnostics: Analytics, Fraud prevention
Location: Product personalization, Analytics

3. THIRD-PARTY DATA SHARING
We share data with:
- Analytics providers (usage data, diagnostics)
- Advertising networks (identifiers, usage data)
- Cloud service providers (all data types)

4. DATA RETENTION
User data is retained as long as account is active. Usage analytics retained for 26 months. Account data deleted within 30 days of deletion request.

5. SECURITY PRACTICES
Data encrypted in transit (TLS 1.3). Data encrypted at rest (AES-256). Access controls restrict employee access. Regular security audits conducted.

6. USER RIGHTS
Users can access data through app settings. Data deletion available through account settings. Privacy inquiries handled within 30 days.

7. CHILDREN'S PRIVACY
App not directed at children under 13. No data knowingly collected from children.

8. INTERNATIONAL TRANSFERS
Data may be transferred to US servers. Standard Contractual Clauses in place for EU data transfers.`,
                compliance: 90,
                gdpr: 88,
                ccpa: 86,
                security: 92,
                thirdParty: 84,
                violations: []
            },
            16: {
                name: ' IoT Device Privacy Policy',
                category: 'IoT',
                risk: 'high',
                text: `IOT DEVICE PRIVACY AND SECURITY POLICY

1. DEVICE DATA COLLECTION
Our IoT devices collect sensor data (temperature, motion, usage patterns), device identifiers, network information, and user settings. Voice data is only collected after explicit wake-word activation.

2. DATA TRANSMISSION
All device data is encrypted during transmission using TLS 1.3. Devices authenticate with cloud services using unique certificates. Firmware updates are signed and verified.

3. LOCAL PROCESSING
Where possible, data processing occurs locally on the device to minimize cloud transmission. Voice commands are processed locally for wake-word detection.

4. CLOUD STORAGE
Data stored in the cloud is encrypted at rest. Users can access their data through secure portals. Retention periods are configurable by users (30 days to 24 months).

5. DEVICE SECURITY
Devices receive security updates for minimum 5 years after launch. Updates are automatically installed unless user opts out. Default passwords are unique per device.

6. THIRD-PARTY INTEGRATIONS
Users can enable third-party integrations (Alexa, Google Home, IFTTT) with explicit consent. Integration partners must meet security requirements.

7. USER CONTROL
Users can view all connected devices, control data sharing, and delete device data through the app. Factory reset removes all user data from devices.

8. VULNERABILITY DISCLOSURE
We maintain a vulnerability disclosure program. Security researchers can report issues through our bug bounty platform. Critical vulnerabilities are addressed within 30 days.`,
                compliance: 82,
                gdpr: 84,
                ccpa: 80,
                security: 88,
                thirdParty: 76,
                violations: [
                    { rule: 'Data Retention', issue: 'Retention policy not fully specified', severity: 'Medium' },
                    { rule: 'Third-Party', issue: 'Third-party security requirements vague', severity: 'Medium' }
                ]
            },
            17: {
                name: ' AI/ML Data Usage Policy',
                category: 'AI',
                risk: 'medium',
                text: `ARTIFICIAL INTELLIGENCE AND MACHINE LEARNING DATA POLICY

1. TRAINING DATA COLLECTION
We collect user interactions, feedback, and anonymized usage data to train AI/ML models. Personal identifiers are removed before training. Users are informed about AI training in privacy policy.

2. MODEL TRANSPARENCY
Users are informed when interacting with AI systems. AI-generated content is labeled appropriately. Users can request information about how AI decisions affect them.

3. HUMAN OVERSIGHT
Critical AI decisions include human review processes. Automated decisions affecting user rights include appeal mechanisms. AI system performance is monitored for accuracy and bias.

4. DATA MINIMIZATION
Only data necessary for AI training and operation is collected. Data is aggregated and anonymized where possible. Individual data points are not stored with training data.

5. BIAS DETECTION AND MITIGATION
We regularly audit AI models for bias across demographic groups. Training data is evaluated for representativeness. Mitigation strategies are implemented when bias is detected.

6. USER CONTROL
Users can opt-out of having their data used for AI training. Opted-out data is excluded from future training datasets. Existing model outputs may still include patterns learned before opt-out.

7. MODEL EXPLAINABILITY
We maintain documentation of model architectures, training data sources, and performance metrics. Explanation methods (SHAP, LIME) are available for key decisions.

8. DATA RETENTION FOR AI
Training data is retained for model improvement and auditing. Retention periods are documented and reviewed annually. Data is securely deleted when no longer needed.

9. AI SAFETY
AI systems include safety constraints and output filters. Potentially harmful outputs are blocked. Emergency stop mechanisms are available for critical systems.`,
                compliance: 86,
                gdpr: 84,
                ccpa: 82,
                security: 88,
                thirdParty: 78,
                violations: [
                    { rule: 'Consent', issue: 'AI training consent mechanism not specified', severity: 'Medium' },
                    { rule: 'Retention', issue: 'Training data retention not specified', severity: 'Low' }
                ]
            },
            18: {
                name: ' Email Marketing CAN-SPAM Policy',
                category: 'Marketing',
                risk: 'low',
                text: `CAN-SPAM ACT COMPLIANCE POLICY

1. HEADER INFORMATION
All email headers accurately identify the sender and origin. "From," "To," and routing information are not falsified. Domain and email addresses truthfully represent our organization.

2. SUBJECT LINES
Subject lines accurately reflect the content of the message. Deceptive subject lines that mislead recipients about the email purpose are prohibited.

3. IDENTIFICATION AS ADVERTISEMENT
Commercial emails are clearly identified as advertisements or solicitations. Disclosures are clear, conspicuous, and placed where recipients can easily find them.

4. PHYSICAL ADDRESS
All commercial emails include our valid physical postal address. The address can be a current street address, PO Box, or private mailbox registered with a commercial mail receiving agency.

5. OPT-OUT MECHANISM
Every email includes a clear, conspicuous, and working opt-out mechanism. Recipients can opt-out using a return email address or internet-based mechanism. Opt-out mechanisms are easy to find and simple to use.

6. PROMPT PROCESSING OF OPT-OUTS
Opt-out requests are processed within 10 business days. Once processed, no further commercial emails are sent to that address. Confirmation of opt-out is sent if requested.

7. NO SELLING OR TRANSFERRING OPT-OUTS
Email addresses of recipients who opt-out are not sold, exchanged, or transferred to other lists. The only exception is transferring addresses to a company contracted to process opt-outs.

8. MONITORING COMPLIANCE
We monitor email campaigns for CAN-SPAM compliance. Third-party email service providers must certify their compliance with these requirements.

9. RESPONSIBILITY FOR FORWARDING
We are responsible for CAN-SPAM compliance even when using third-party email marketing services. Contracts with email service providers require compliance with this policy.`,
                compliance: 94,
                gdpr: 82,
                ccpa: 78,
                security: 85,
                thirdParty: 88,
                violations: []
            },
            19: {
                name: ' Biometric Data Privacy Policy',
                category: 'Biometric',
                risk: 'critical',
                text: `BIOMETRIC INFORMATION PRIVACY POLICY (BIPA COMPLIANCE)

1. BIOMETRIC DATA COLLECTION
We collect biometric identifiers including fingerprints, facial recognition data, voice prints, and iris scans only with written consent. Collection purposes are clearly disclosed before obtaining biometric data.

2. WRITTEN CONSENT
Prior to collecting biometric data, we obtain written consent that:
- Informs the individual of the specific purpose for collection
- Specifies the length of time biometric data will be retained
- Explains how biometric data will be used and disclosed

3. PURPOSE AND USE
Biometric data is used only for the specified purposes (authentication, access control, time tracking). Data is not sold, leased, or traded. Secondary uses require additional consent.

4. RETENTION AND DESTRUCTION
Biometric data is destroyed within 3 years of the individual's last interaction or when the initial purpose is satisfied, whichever is earlier. Destruction is irreversible and documented.

5. STORAGE AND SECURITY
Biometric data is stored separately from other personally identifiable information. Encryption (AES-256) is used for stored biometric data. Access is restricted to authorized personnel only.

6. DISCLOSURE RESTRICTIONS
Biometric data is not disclosed to third parties except:
- With explicit consent
- To complete a financial transaction requested by the individual
- As required by law or valid legal process

7. THIRD-PARTY PROCESSORS
Third parties receiving biometric data must sign agreements requiring:
- Equivalent security measures
- Compliance with retention/destruction requirements
- Prohibition on secondary use

8. DATA SUBJECT RIGHTS
Individuals have the right to:
- Access their biometric data
- Request correction of inaccurate data
- Request deletion of biometric data
- Revoke consent at any time

9. BREACH NOTIFICATION
Security breaches involving biometric data trigger immediate investigation and notification to affected individuals within 30 days. Regulators are notified as required by law.`,
                compliance: 90,
                gdpr: 86,
                ccpa: 84,
                security: 94,
                thirdParty: 88,
                violations: []
            },
            20: {
                name: ' Data Processing Agreement',
                category: 'Legal',
                risk: 'low',
                text: `DATA PROCESSING AGREEMENT (GDPR ARTICLE 28)

1. SUBJECT MATTER AND DURATION
This DPA governs the processing of personal data by the Processor on behalf of the Controller. The agreement remains in effect for the duration of data processing activities under the underlying services agreement.

2. NATURE AND PURPOSE OF PROCESSING
Processing includes collection, storage, retrieval, transmission, and deletion of personal data for the purpose of providing services as described in the underlying agreement.

3. TYPE OF PERSONAL DATA
Categories of data may include: names, contact information, identification numbers, financial data, employment details, and technical data as necessary for service provision.

4. CATEGORIES OF DATA SUBJECTS
Data subjects include customers, employees, contractors, and other individuals whose data is processed under the Controller's instruction.

5. PROCESSOR OBLIGATIONS
Processor shall:
- Process data only on documented instructions
- Ensure confidentiality obligations for personnel
- Implement appropriate technical and organizational measures
- Not engage another processor without authorization
- Assist Controller in fulfilling data subject rights
- Assist with compliance obligations (Articles 32-36)
- Return or delete data at contract termination
- Provide audit evidence to Controller

6. DATA SUBJECT RIGHTS
Processor shall assist Controller by appropriate technical and organizational measures to respond to data subject requests for access, rectification, erasure, restriction, and portability.

7. SUB-PROCESSORS
Controller authorizes Processor to engage sub-processors. Processor shall inform Controller of any intended changes and maintain a list of sub-processors.

8. INTERNATIONAL TRANSFERS
Any transfer of personal data to countries outside the EEA requires appropriate safeguards, including Standard Contractual Clauses or adequacy decisions.

9. SECURITY MEASURES
Processor maintains security measures including:
- Pseudonymization and encryption
- Confidentiality, integrity, availability, and resilience
- Business continuity and disaster recovery
- Regular security testing

10. BREACH NOTIFICATION
Processor shall notify Controller without undue delay after becoming aware of a personal data breach, providing all relevant information for documentation and notification.`,
                compliance: 96,
                gdpr: 98,
                ccpa: 88,
                security: 92,
                thirdParty: 94,
                violations: []
            }
        };

        // ========== 20+ SAMPLE COMPLAINTS ==========
        const sampleComplaints = {
            1: {
                name: ' Data Breach - Customer Information Exposed',
                category: 'Data Breach',
                severity: 'critical',
                text: `I'm writing to express my extreme concern and frustration regarding a data breach that exposed my personal information. I received a notification that my email address, password, and financial information were compromised in a security incident. This is completely unacceptable and a serious violation of my privacy. I demand to know exactly what information was exposed, how this breach occurred, and what immediate steps are being taken to prevent this from happening again. I expect a detailed response within 24 hours.`,
                sentiment: 0.98,
                category_detailed: 'Data Breach',
                severity_level: 'Critical',
                urgency: 'Immediate',
                features: {
                    wordCount: 89,
                    uniqueWords: 62,
                    avgWordLength: 5.2,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'IMMEDIATE: Escalate to CISO and security team',
                    'Activate incident response protocol',
                    'Prepare breach notification letters',
                    'Contact legal counsel for breach assessment',
                    'Document all communication with affected user',
                    'Provide regular updates every 24 hours'
                ]
            },
            2: {
                name: ' Unauthorized Data Sharing with Third Parties',
                category: 'Privacy Violation',
                severity: 'high',
                text: `I've discovered that my personal information is being shared with third-party companies without my knowledge or consent. I never agreed to this in any privacy policy and I want it to stop immediately. Your privacy policy mentions data sharing but it's extremely vague about who you share with and for what purposes. This violates my privacy rights under GDPR. Please provide a complete list of all third parties that have received my data and remove my information from their systems immediately. I expect written confirmation within 7 days.`,
                sentiment: 0.88,
                category_detailed: 'Privacy Violation',
                severity_level: 'High',
                urgency: 'High',
                features: {
                    wordCount: 102,
                    uniqueWords: 68,
                    avgWordLength: 5.4,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Review all third-party agreements',
                    'Verify consent records for this user',
                    'Process opt-out/objection request',
                    'Audit data sharing practices',
                    'Provide detailed response within 48 hours',
                    'Update privacy policy for clarity'
                ]
            },
            3: {
                name: ' Unauthorized Account Access',
                category: 'Security',
                severity: 'high',
                text: `I received multiple login notifications from unknown devices and locations. Someone appears to have accessed my account without authorization. I've already changed my password, but I'm very concerned about what information might have been accessed or stolen. I need you to investigate this immediately and provide me with a detailed report of all access to my account including IP addresses, timestamps, and what data was viewed. This is urgent as I believe my personal and financial information may be at risk.`,
                sentiment: 0.85,
                category_detailed: 'Unauthorized Access',
                severity_level: 'High',
                urgency: 'High',
                features: {
                    wordCount: 94,
                    uniqueWords: 58,
                    avgWordLength: 5.1,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Review access logs immediately',
                    'Force password reset on account',
                    'Enable MFA for enhanced security',
                    'Conduct security audit of account',
                    'Provide access report within 24 hours',
                    'Monitor for suspicious activity'
                ]
            },
            4: {
                name: ' Data Deletion Request - Right to Erasure',
                category: 'User Rights',
                severity: 'medium',
                text: `I am formally requesting deletion of all my personal data from your systems pursuant to GDPR Article 17 (Right to Erasure). Please confirm that you have removed all my personal information including backups and that you have notified any third parties who may have received my data of this deletion request. I expect confirmation within 30 days as required by law. Please provide documentation of the deletion process and confirmation that my data has been permanently removed.`,
                sentiment: 0.35,
                category_detailed: 'Data Deletion Request',
                severity_level: 'Medium',
                urgency: 'Normal',
                features: {
                    wordCount: 86,
                    uniqueWords: 52,
                    avgWordLength: 5.8,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Verify user identity',
                    'Process deletion request within 30 days',
                    'Notify third parties of deletion',
                    'Document deletion for audit trail',
                    'Provide confirmation to user',
                    'Update records to reflect deletion'
                ]
            },
            5: {
                name: ' Inaccurate Personal Information',
                category: 'Data Quality',
                severity: 'low',
                text: `I noticed that my personal information in your system is incorrect. My name is spelled wrong and my email address is outdated. I've tried to update it through your website but the changes don't seem to save. Please correct my information to: John Smith (currently shown as Jon Smith) and john.smith@email.com (currently shows old email). This needs to be fixed as soon as possible because it's affecting service delivery.`,
                sentiment: 0.45,
                category_detailed: 'Data Correction',
                severity_level: 'Low',
                urgency: 'Normal',
                features: {
                    wordCount: 78,
                    uniqueWords: 48,
                    avgWordLength: 4.9,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Verify user identity',
                    'Update account information',
                    'Test changes after update',
                    'Confirm correction to user',
                    'Document request for records',
                    'Check for system issues preventing updates'
                ]
            },
            6: {
                name: ' Excessive Data Collection',
                category: 'Privacy',
                severity: 'medium',
                text: `I'm concerned that you're collecting more personal information than necessary. During registration, you required access to my contacts, location, camera, and microphone even though these permissions aren't needed for basic app functionality. This seems excessive and invasive. Please explain why all these permissions are required and allow me to opt-out of non-essential data collection while still using your service.`,
                sentiment: 0.65,
                category_detailed: 'Data Minimization',
                severity_level: 'Medium',
                urgency: 'Medium',
                features: {
                    wordCount: 82,
                    uniqueWords: 54,
                    avgWordLength: 5.3,
                    hasUrgent: false,
                    hasEmotional: true
                },
                recommendations: [
                    'Review permission requirements',
                    'Document necessity for each permission',
                    'Provide explanation to user',
                    'Implement granular permission options',
                    'Update privacy policy to clarify',
                    'Consider alternative implementation'
                ]
            },
            7: {
                name: ' Lack of Consent for Marketing',
                category: 'Marketing',
                severity: 'medium',
                text: `I never consented to receive marketing emails from you, yet I've been receiving promotional messages for months. Your emails don't have an unsubscribe link and I can't find any way to opt-out in my account settings. This is a violation of anti-spam laws. Please remove me from all marketing lists immediately and confirm that I won't receive any more unsolicited communications.`,
                sentiment: 0.75,
                category_detailed: 'Marketing Consent',
                severity_level: 'Medium',
                urgency: 'Medium',
                features: {
                    wordCount: 76,
                    uniqueWords: 48,
                    avgWordLength: 5.2,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Add user to suppression list',
                    'Verify consent records',
                    'Add unsubscribe link to emails',
                    'Update email templates',
                    'Confirm removal to user',
                    'Review marketing practices'
                ]
            },
            8: {
                name: ' Slow Response to Data Access Request',
                category: 'Compliance',
                severity: 'medium',
                text: `I submitted a data access request 45 days ago under GDPR, but I still haven't received my data. The law requires response within 30 days. I've followed up twice with no response. This is unacceptable and I'm considering filing a complaint with the supervisory authority. Please provide my data immediately or explain the delay.`,
                sentiment: 0.82,
                category_detailed: 'Access Request Delay',
                severity_level: 'Medium',
                urgency: 'High',
                features: {
                    wordCount: 68,
                    uniqueWords: 44,
                    avgWordLength: 5.5,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Expedite access request processing',
                    'Provide data immediately',
                    'Apologize for delay',
                    'Document timeline for audit',
                    'Review request handling process',
                    'Implement tracking for timely responses'
                ]
            },
            9: {
                name: ' Employee Data Misuse',
                category: 'Employment',
                severity: 'critical',
                text: `As an employee, I'm concerned about how my personal data is being used. I discovered that HR has been accessing my personnel file without my knowledge and sharing my salary information with other departments. This is a serious breach of trust and potentially violates privacy laws. Please investigate this immediately and provide a complete accounting of who has accessed my data and for what purposes.`,
                sentiment: 0.92,
                category_detailed: 'Employee Privacy',
                severity_level: 'Critical',
                urgency: 'Immediate',
                features: {
                    wordCount: 84,
                    uniqueWords: 56,
                    avgWordLength: 5.6,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Review access logs for employee records',
                    'Interview HR personnel',
                    'Implement access controls',
                    'Provide user with access report',
                    'Update employee privacy training',
                    'Consider disciplinary action if warranted'
                ]
            },
            10: {
                name: ' Children\'s Data Collected Without Consent',
                category: 'Children',
                severity: 'critical',
                text: `I'm extremely concerned that your app has collected personal information from my 10-year-old child without my consent. My child was able to create an account and provide personal details without any parental verification. This appears to violate COPPA requirements. Please delete all my child's data immediately and provide confirmation. I expect a response within 24 hours.`,
                sentiment: 0.96,
                category_detailed: 'COPPA Violation',
                severity_level: 'Critical',
                urgency: 'Immediate',
                features: {
                    wordCount: 72,
                    uniqueWords: 48,
                    avgWordLength: 5.1,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'IMMEDIATE: Block child account',
                    'Delete all child\'s data',
                    'Verify age verification process',
                    'Provide confirmation to parent',
                    'Review COPPA compliance',
                    'Implement parental consent mechanism'
                ]
            },
            11: {
                name: ' Biometric Data Security Concerns',
                category: 'Biometric',
                severity: 'high',
                text: `Your system uses fingerprint authentication, but I'm very concerned about how this biometric data is stored and protected. If your database is breached, my fingerprint data could be compromised and I can't change my fingerprints like a password. Please provide detailed information about how biometric data is encrypted, where it's stored, and what security measures protect it. I want to understand the risks before continuing to use this feature.`,
                sentiment: 0.78,
                category_detailed: 'Biometric Privacy',
                severity_level: 'High',
                urgency: 'Medium',
                features: {
                    wordCount: 88,
                    uniqueWords: 54,
                    avgWordLength: 5.7,
                    hasUrgent: false,
                    hasEmotional: true
                },
                recommendations: [
                    'Provide detailed security documentation',
                    'Explain encryption methods',
                    'Clarify storage locations',
                    'Offer alternative authentication',
                    'Update biometric privacy policy',
                    'Document user concerns'
                ]
            },
            12: {
                name: ' Data Portability Request',
                category: 'User Rights',
                severity: 'low',
                text: `I'm requesting my personal data in a machine-readable format under GDPR Article 20 (Right to Data Portability). Please provide all my data in a commonly used structured format like JSON or CSV so I can transfer it to another service provider. I'd appreciate if you could include all account information, activity history, and any other personal data you hold about me.`,
                sentiment: 0.30,
                category_detailed: 'Data Portability',
                severity_level: 'Low',
                urgency: 'Normal',
                features: {
                    wordCount: 72,
                    uniqueWords: 42,
                    avgWordLength: 5.8,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Verify user identity',
                    'Extract all user data',
                    'Format in machine-readable format',
                    'Provide download link',
                    'Document request compliance',
                    'Update portability process'
                ]
            },
            13: {
                name: ' Credit Card Information Exposed',
                category: 'Payment',
                severity: 'critical',
                text: `I just noticed that my credit card information was visible in plain text in my account settings. This is a massive security failure! Payment data should never be displayed like this. I'm immediately canceling my card and will be watching for fraudulent charges. I demand to know if this vulnerability exposed my data to others and what you're doing to fix this immediately. This is completely unacceptable for any company handling payment information.`,
                sentiment: 0.97,
                category_detailed: 'Payment Security',
                severity_level: 'Critical',
                urgency: 'Immediate',
                features: {
                    wordCount: 94,
                    uniqueWords: 58,
                    avgWordLength: 5.4,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'IMMEDIATE: Fix display vulnerability',
                    'Audit all payment data displays',
                    'Investigate potential exposure',
                    'Notify affected users if breach',
                    'Offer credit monitoring',
                    'Review PCI DSS compliance'
                ]
            },
            14: {
                name: ' GPS Tracking Without Consent',
                category: 'Location',
                severity: 'high',
                text: `I discovered that your app has been tracking my location in the background even though I never granted location permission. This is a massive invasion of privacy. Location data is highly sensitive and tracking without consent is unacceptable. Please explain why this happened, delete all location data you've collected, and provide assurance that this won't continue.`,
                sentiment: 0.89,
                category_detailed: 'Location Privacy',
                severity_level: 'High',
                urgency: 'High',
                features: {
                    wordCount: 78,
                    uniqueWords: 52,
                    avgWordLength: 5.3,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Review location permissions',
                    'Delete all collected location data',
                    'Fix background tracking issue',
                    'Provide explanation to user',
                    'Update app permissions',
                    'Consider privacy audit'
                ]
            },
            15: {
                name: ' Social Security Number Request',
                category: 'Identity',
                severity: 'high',
                text: `Your service is asking for my Social Security number to create an account, but this seems unnecessary and risky. I'm very uncomfortable providing my SSN given the risk of identity theft. Why do you need this information and how is it protected? Is there any alternative way to verify my identity without providing such sensitive information? Please respond before I proceed with account creation.`,
                sentiment: 0.72,
                category_detailed: 'Sensitive Data',
                severity_level: 'High',
                urgency: 'Medium',
                features: {
                    wordCount: 82,
                    uniqueWords: 48,
                    avgWordLength: 5.6,
                    hasUrgent: false,
                    hasEmotional: true
                },
                recommendations: [
                    'Document necessity for SSN',
                    'Provide security details',
                    'Offer alternative verification',
                    'Update privacy policy',
                    'Consider data minimization',
                    'Document user concern'
                ]
            },
            16: {
                name: ' Account Closure and Data Deletion',
                category: 'Account',
                severity: 'medium',
                text: `I'd like to close my account and have all my data deleted. I can't find an option to do this in the app settings. Please process my account deletion and confirm when it's complete. I also want to ensure my data is removed from any backups within a reasonable timeframe. Thank you for your assistance.`,
                sentiment: 0.25,
                category_detailed: 'Account Closure',
                severity_level: 'Medium',
                urgency: 'Normal',
                features: {
                    wordCount: 62,
                    uniqueWords: 38,
                    avgWordLength: 5.2,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Process account deletion',
                    'Verify identity before deletion',
                    'Document deletion request',
                    'Provide confirmation to user',
                    'Schedule backup deletion',
                    'Update account management features'
                ]
            },
            17: {
                name: ' Phishing Email Using Your Brand',
                category: 'Security',
                severity: 'critical',
                text: `I received a suspicious email claiming to be from your company asking for my password and credit card details. This looks like a phishing attempt. I'm concerned that your brand is being used for scams and that my data might already be compromised. Please investigate immediately and advise how to identify legitimate communications from you. I've forwarded the email to abuse@yourcompany.com.`,
                sentiment: 0.84,
                category_detailed: 'Phishing',
                severity_level: 'Critical',
                urgency: 'Immediate',
                features: {
                    wordCount: 86,
                    uniqueWords: 54,
                    avgWordLength: 5.5,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Investigate phishing email',
                    'Alert security team',
                    'Consider takedown action',
                    'Notify affected users',
                    'Update security guidance',
                    'Monitor for additional attempts'
                ]
            },
            18: {
                name: ' Cookie Consent Violation',
                category: 'Privacy',
                severity: 'medium',
                text: `Your website sets tracking cookies before I click "Accept" on your cookie banner. This violates ePrivacy Directive requirements for prior consent. I've tested this multiple times and confirmed cookies are set immediately upon page load. Please fix this immediately to require explicit consent before any non-essential cookies are placed.`,
                sentiment: 0.68,
                category_detailed: 'Cookie Compliance',
                severity_level: 'Medium',
                urgency: 'Medium',
                features: {
                    wordCount: 68,
                    uniqueWords: 44,
                    avgWordLength: 5.4,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Audit cookie implementation',
                    'Fix cookie consent mechanism',
                    'Test compliance',
                    'Provide explanation to user',
                    'Update cookie policy',
                    'Consider legal review'
                ]
            },
            19: {
                name: ' Discriminatory AI Decision',
                category: 'AI Ethics',
                severity: 'high',
                text: `I believe your AI system discriminated against me in the loan application process. I was denied despite meeting all published criteria, and I suspect it's because of my demographic information. This feels like algorithmic bias. Please provide the specific reasons for denial, what data was used in the decision, and how I can appeal. I'd also like to know if automated decision-making was used and what safeguards exist.`,
                sentiment: 0.79,
                category_detailed: 'Algorithmic Bias',
                severity_level: 'High',
                urgency: 'High',
                features: {
                    wordCount: 94,
                    uniqueWords: 58,
                    avgWordLength: 5.7,
                    hasUrgent: true,
                    hasEmotional: true
                },
                recommendations: [
                    'Review AI decision logic',
                    'Audit for bias',
                    'Provide decision explanation',
                    'Offer appeal process',
                    'Document complaint',
                    'Consider human review for AI decisions'
                ]
            },
            20: {
                name: ' Subject Access Request',
                category: 'User Rights',
                severity: 'low',
                text: `I'm writing to request access to all personal data you hold about me under applicable privacy laws. Please provide copies of all my personal information in an accessible format. I'd like to understand what data you have, how it's being used, and who it's shared with. Please confirm receipt of this request and let me know if you need any additional information to process it.`,
                sentiment: 0.20,
                category_detailed: 'Subject Access Request',
                severity_level: 'Low',
                urgency: 'Normal',
                features: {
                    wordCount: 78,
                    uniqueWords: 46,
                    avgWordLength: 5.6,
                    hasUrgent: false,
                    hasEmotional: false
                },
                recommendations: [
                    'Acknowledge request receipt',
                    'Verify identity',
                    'Gather all user data',
                    'Prepare response within legal timeframe',
                    'Document request processing',
                    'Provide data in accessible format'
                ]
            }
        };

        function createPolicySamples() {
            const grid = document.getElementById('policySampleGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            // Sort policies by category for better organization
            const sortedPolicies = Object.values(samplePolicies).sort((a, b) => {
                if (a.category < b.category) return -1;
                if (a.category > b.category) return 1;
                return 0;
            });
            
            sortedPolicies.forEach((policy, index) => {
                const button = document.createElement('button');
                button.className = `sample-btn ${policy.risk}-risk`;
                button.innerHTML = `<i class="fas fa-file-contract"></i> ${policy.name}`;
                button.onclick = () => loadSamplePolicy(index + 1);
                grid.appendChild(button);
            });
        }

        function createComplaintSamples() {
            const grid = document.getElementById('complaintSampleGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            // Sort complaints by severity for better organization
            const sortedComplaints = Object.values(sampleComplaints).sort((a, b) => {
                const severityOrder = { 'critical': 1, 'high': 2, 'medium': 3, 'low': 4 };
                return (severityOrder[a.severity] || 99) - (severityOrder[b.severity] || 99);
            });
            
            sortedComplaints.forEach((complaint, index) => {
                const button = document.createElement('button');
                button.className = `sample-btn ${complaint.severity}-risk`;
                
                // Choose icon based on severity
                let icon = 'fa-exclamation-circle';
                if (complaint.severity === 'critical') icon = 'fa-skull-crossbones';
                else if (complaint.severity === 'high') icon = 'fa-exclamation-triangle';
                else if (complaint.severity === 'medium') icon = 'fa-exclamation';
                else icon = 'fa-info-circle';
                
                button.innerHTML = `<i class="fas ${icon}"></i> ${complaint.name}`;
                button.onclick = () => loadSampleComplaint(index + 1);
                grid.appendChild(button);
            });
        }

        function loadSamplePolicy(sampleNumber) {
            const policy = samplePolicies[sampleNumber];
            if (policy) {
                document.getElementById('policyText').value = policy.text;
                showNotification(`Loaded: ${policy.name}`, 'success');
            }
        }

        function loadSampleComplaint(sampleNumber) {
            const complaint = sampleComplaints[sampleNumber];
            if (complaint) {
                document.getElementById('complaintText').value = complaint.text;
                showNotification(`Loaded: ${complaint.name}`, 'success');
            }
        }

        async function analyzePolicy() {
            const policyText = document.getElementById('policyText').value;
            if (!policyText.trim()) {
                showNotification('Please enter policy text', 'error');
                return;
            }
            
            const analyzeBtn = document.getElementById('analyzeBtn');
            const originalText = analyzeBtn.innerHTML;
            analyzeBtn.innerHTML = '<span class="loading"></span> Analyzing...';
            analyzeBtn.disabled = true;
            
            try {
                // Find matching sample policy
                let result = null;
                for (let i = 1; i <= 20; i++) {
                    if (samplePolicies[i] && policyText === samplePolicies[i].text) {
                        result = samplePolicies[i];
                        break;
                    }
                }
                
                // If no match, create simulated result
                if (!result) {
                    const wordCount = policyText.split(/\s+/).length;
                    const hasGdpr = policyText.toLowerCase().includes('gdpr');
                    const hasCcpa = policyText.toLowerCase().includes('ccpa');
                    const hasSecurity = policyText.toLowerCase().includes('security') || policyText.toLowerCase().includes('encrypt');
                    
                    result = {
                        compliance: Math.floor(Math.random() * 40) + 50,
                        gdpr: hasGdpr ? 80 : 45,
                        ccpa: hasCcpa ? 82 : 48,
                        security: hasSecurity ? 85 : 55,
                        thirdParty: Math.floor(Math.random() * 30) + 50,
                        violations: []
                    };
                    
                    if (!hasGdpr) {
                        result.violations.push({ rule: 'GDPR Compliance', issue: 'No GDPR references found', severity: 'High' });
                    }
                    if (!hasCcpa) {
                        result.violations.push({ rule: 'CCPA Compliance', issue: 'No CCPA references found', severity: 'High' });
                    }
                    if (!hasSecurity) {
                        result.violations.push({ rule: 'Security Measures', issue: 'Security measures not specified', severity: 'Medium' });
                    }
                    if (wordCount < 300) {
                        result.violations.push({ rule: 'Policy Completeness', issue: 'Policy may be too brief', severity: 'Medium' });
                    }
                }
                
                displayEnhancedPolicyResults(result);
                updateStats();
                showNotification('Policy analysis completed!', 'success');
                
            } catch (error) {
                showNotification('Failed to analyze policy', 'error');
            } finally {
                analyzeBtn.innerHTML = originalText;
                analyzeBtn.disabled = false;
            }
        }

        function displayEnhancedPolicyResults(result) {
            const resultsDiv = document.getElementById('policyResults');
            const contentDiv = document.getElementById('policyResultsContent');
            
            resultsDiv.style.display = 'block';
            
            const statusClass = result.compliance >= 90 ? 'success' : result.compliance >= 75 ? 'warning' : 'error';
            const statusIcon = result.compliance >= 90 ? 'check-circle' : result.compliance >= 75 ? 'exclamation-triangle' : 'times-circle';
            
            let html = `
                <div class="result-header">
                    <div class="result-icon ${statusClass}">
                        <i class="fas fa-${statusIcon}"></i>
                    </div>
                    <div>
                        <div class="result-title">Compliance Analysis Complete</div>
                        <div class="result-subtitle">Policy compliance score: ${result.compliance}%</div>
                    </div>
                </div>
                
                <div class="result-grid">
                    <div class="result-metric">
                        <div class="metric-label">GDPR Compliance</div>
                        <div class="metric-value">${result.gdpr}%</div>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">CCPA Compliance</div>
                        <div class="metric-value">${result.ccpa}%</div>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">Security Measures</div>
                        <div class="metric-value">${result.security}%</div>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">Third-Party Disclosure</div>
                        <div class="metric-value">${result.thirdParty}%</div>
                    </div>
                </div>
                
                <div class="risk-meter">
                    <div class="risk-fill ${statusClass}" style="width: ${result.compliance}%"></div>
                </div>
            `;
            
            if (result.violations && result.violations.length > 0) {
                html += `<div class="result-details">
                    <h4 style="margin-bottom: 1rem;">Detected Violations</h4>`;
                
                result.violations.forEach(violation => {
                    const severityClass = violation.severity.toLowerCase();
                    
                    html += `
                        <div class="detail-item">
                            <span class="detail-label">
                                <span class="metric-tag ${severityClass}">${violation.severity}</span>
                                ${violation.rule}:
                            </span>
                            <span class="detail-value">${violation.issue}</span>
                        </div>
                    `;
                });
                
                html += `</div>`;
            } else {
                html += `<div class="result-details">
                    <div class="detail-item">
                        <span class="detail-label">
                            <i class="fas fa-check-circle text-success"></i> No violations detected
                        </span>
                        <span class="detail-value">Policy appears compliant</span>
                    </div>
                </div>`;
            }
            
            contentDiv.innerHTML = html;
        }

        async function analyzeComplaint() {
            const complaintText = document.getElementById('complaintText').value;
            if (!complaintText.trim()) {
                showNotification('Please enter complaint description', 'error');
                return;
            }
            
            const analyzeBtn = document.getElementById('analyzeComplaintBtn');
            const originalText = analyzeBtn.innerHTML;
            analyzeBtn.innerHTML = '<span class="loading"></span> Analyzing...';
            analyzeBtn.disabled = true;
            
            try {
                // Find matching sample complaint
                let result = null;
                for (let i = 1; i <= 20; i++) {
                    if (sampleComplaints[i] && complaintText === sampleComplaints[i].text) {
                        result = sampleComplaints[i];
                        break;
                    }
                }
                
                // If no match, create simulated result
                if (!result) {
                    const wordCount = complaintText.split(/\s+/).length;
                    const urgentWords = ['immediate', 'urgent', 'asap', 'emergency', 'critical', 'breach', 'violation', 'unacceptable'];
                    const emotionalWords = ['frustrated', 'angry', 'upset', 'concerned', 'worried', 'unacceptable', 'outrage', 'violation']; 
                    const hasUrgent = urgentWords.some(word => complaintText.toLowerCase().includes(word));
                    const hasEmotional = emotionalWords.some(word => complaintText.toLowerCase().includes(word));
                    
                    // Determine severity based on content
                    let severity = 'Medium';
                    let urgency = 'Normal';
                    let category = 'General Inquiry';
                    
                    if (hasUrgent && hasEmotional) {
                        severity = 'High';
                        urgency = 'High';
                    } else if (hasUrgent) {
                        severity = 'Medium';
                        urgency = 'High';
                    } else if (hasEmotional) {
                        severity = 'Medium';
                        urgency = 'Normal';
                    }
                    
                    if (complaintText.toLowerCase().includes('breach') || complaintText.toLowerCase().includes('hack')) {
                        category = 'Security Incident';
                        severity = 'High';
                        urgency = 'Immediate';
                    } else if (complaintText.toLowerCase().includes('delete') || complaintText.toLowerCase().includes('remove')) {
                        category = 'Data Deletion';
                    } else if (complaintText.toLowerCase().includes('access') || complaintText.toLowerCase().includes('rights')) {
                        category = 'Data Access';
                    } else if (complaintText.toLowerCase().includes('share') || complaintText.toLowerCase().includes('third party')) {
                        category = 'Data Sharing';
                    }
                    
                    result = {
                        sentiment: hasUrgent && hasEmotional ? 0.85 : hasUrgent ? 0.7 : hasEmotional ? 0.6 : 0.4,
                        category_detailed: category,
                        severity_level: severity,
                        urgency: urgency,
                        features: {
                            wordCount: wordCount,
                            uniqueWords: new Set(complaintText.toLowerCase().split(/\s+/)).size,
                            avgWordLength: (complaintText.length / wordCount) || 0,
                            hasUrgent: hasUrgent,
                            hasEmotional: hasEmotional
                        },
                        recommendations: []
                    };
                    
                    // Generate recommendations based on category
                    if (category === 'Security Incident') {
                        result.recommendations.push('Escalate to security team immediately');
                        result.recommendations.push('Initiate incident response protocol');
                        result.recommendations.push('Contact user within 24 hours');
                    } else if (category === 'Data Deletion') {
                        result.recommendations.push('Verify user identity');
                        result.recommendations.push('Process deletion request within legal timeframe');
                        result.recommendations.push('Confirm deletion to user');
                    } else if (category === 'Data Access') {
                        result.recommendations.push('Verify user identity');
                        result.recommendations.push('Gather requested data');
                        result.recommendations.push('Provide response within legal timeframe');
                    }
                    
                    if (hasUrgent) {
                        result.recommendations.push('Flag as urgent for priority processing');
                    }
                    if (wordCount < 30) {
                        result.recommendations.push('Request more details from user');
                    }
                }
                
                displayEnhancedComplaintResults(result);
                updateStats();
                showNotification('Complaint analysis completed!', 'success');
                
            } catch (error) {
                showNotification('Failed to analyze complaint', 'error');
            } finally {
                analyzeBtn.innerHTML = originalText;
                analyzeBtn.disabled = false;
            }
        }

        function displayEnhancedComplaintResults(result) {
            const resultsDiv = document.getElementById('complaintResults');
            const contentDiv = document.getElementById('complaintResultsContent');
            
            resultsDiv.style.display = 'block';
            
            const sentimentClass = result.sentiment > 0.7 ? 'critical' : result.sentiment > 0.4 ? 'high' : 'medium';
            const sentimentIcon = result.sentiment > 0.7 ? 'sad-tear' : result.sentiment > 0.4 ? 'meh' : 'smile';
            
            let html = `
                <div class="result-header">
                    <div class="result-icon ${sentimentClass}">
                        <i class="fas fa-${sentimentIcon}"></i>
                    </div>
                    <div>
                        <div class="result-title">Complaint Analysis Complete</div>
                        <div class="result-subtitle">${result.category_detailed || 'General Complaint'}</div>
                    </div>
                </div>
                
                <div class="result-grid">
                    <div class="result-metric">
                        <div class="metric-label">Sentiment Score</div>
                        <div class="metric-value">${(result.sentiment * 100).toFixed(1)}%</div>
                        <span class="metric-tag ${sentimentClass}">${result.sentiment > 0.7 ? 'Negative' : result.sentiment > 0.4 ? 'Neutral' : 'Positive'}</span>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">Severity Level</div>
                        <div class="metric-value">${result.severity_level || 'Medium'}</div>
                        <span class="metric-tag ${(result.severity_level || '').toLowerCase()}">${result.severity_level || 'Medium'}</span>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">Urgency</div>
                        <div class="metric-value">${result.urgency || 'Normal'}</div>
                    </div>
                    <div class="result-metric">
                        <div class="metric-label">Word Count</div>
                        <div class="metric-value">${result.features?.wordCount || 0}</div>
                    </div>
                </div>
                
                <div class="risk-meter">
                    <div class="risk-fill ${sentimentClass}" style="width: ${result.sentiment * 100}%"></div>
                </div>
                
                <div class="result-details">
                    <h4 style="margin-bottom: 1rem;">Text Analysis</h4>
                    <div class="detail-item">
                        <span class="detail-label">Unique Words:</span>
                        <span class="detail-value">${result.features?.uniqueWords || 0}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Avg Word Length:</span>
                        <span class="detail-value">${(result.features?.avgWordLength || 0).toFixed(2)} chars</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Urgent Words:</span>
                        <span class="detail-value">${result.features?.hasUrgent ? 'Yes' : 'No'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Emotional Words:</span>
                        <span class="detail-value">${result.features?.hasEmotional ? 'Yes' : 'No'}</span>
                    </div>
                </div>
            `;
            
            if (result.recommendations && result.recommendations.length > 0) {
                html += `<div class="result-details">
                    <h4 style="margin-bottom: 1rem;">Recommended Actions</h4>`;
                
                result.recommendations.forEach(rec => {
                    html += `
                        <div class="detail-item">
                            <span class="detail-label">
                                <i class="fas fa-check-circle text-success"></i>
                            </span>
                            <span class="detail-value">${rec}</span>
                        </div>
                    `;
                });
                
                html += `</div>`;
            }
            
            contentDiv.innerHTML = html;
        }
        
        function updateStats() {
            const policiesCount = parseInt(document.getElementById('policiesCount').textContent.replace(',', '')) || 0;
            const complaintsCount = parseInt(document.getElementById('complaintsCount').textContent.replace(',', '')) || 0;
            
            document.getElementById('policiesCount').textContent = (policiesCount + 1).toLocaleString();
            document.getElementById('complaintsCount').textContent = (complaintsCount + 1).toLocaleString();
        }
    </script>
</body>
</html>
